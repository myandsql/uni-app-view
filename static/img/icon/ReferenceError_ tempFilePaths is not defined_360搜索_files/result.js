function setEciNlpv(e,t){var n=$("#head .form"),r="";if(e){var i=e.split("&");for(var s=0,o=i.length;s<o;s++){var u=i[s].split("=");u[0]=="nlpv"&&(r=u[1])}var a=n.find('input[name="eci"]'),f=n.find('input[name="nlpv"]'),l='<input type="hidden" name="eci" value="'+t+'">',c='<input type="hidden" name="nlpv" value="'+r+'">';a.length==0?n.append(l):a.val(t),f.length==0?n.append(c):f.val(r)}else n.find('input[name="eci"],input[name="nlpv"]').remove();return{eci:t,nlpv:r}}(function(e){e.fn.hoverDelay=function(t){var n={hoverDuring:200,outDuring:200,hoverEvent:function(){e.noop()},outEvent:function(){e.noop()}},r=e.extend(n,t||{});return e(this).each(function(){var t=e(this),n,i;t.hover(function(){clearTimeout(i),n=setTimeout(function(){r.hoverEvent(t)},r.hoverDuring)},function(){clearTimeout(n),i=setTimeout(function(){r.outEvent(t)},r.outDuring)})})}})(jQuery),function(e){function t(t){this.each(function(){var n=e(this),r=n.find(t.blockWrap),i=n.find(t.left),s=n.find(t.right),o=t.arrowDisableClass,u=n.find(t.num),a=t.numSelectedClass,f=t.numAttr,l=n.find(t.block),c=l.length,h=l.outerWidth(!0),p=t.pagesTurningFun||function(){e.noop()},d=t.pagesTurningAfter||function(){e.noop()},v=t.mouseenterFun||function(){e.noop()},m=t.mouseleaveFun||function(){e.noop()},g=t.isLoop,y=typeof t.speed!="undefined"?t.speed:500,b=t.autoSpeed,w=t.eachGroupCount||1,E,S=0,x,T,N,C=function(e,u){r.stop(!0,!0),S=n.find(t.block).first().data("index"),x=w;if(e<0){if(!g){if(S==0)return;w>1&&S<w&&(x=S)}E=0,r.prepend(n.find(t.block+":gt("+(c-1+e*x)+")")).css({left:e*h*x})}else{if(!(e>0))return;if(!g){if(S+w==c)return;w>1&&(T=c-(S+w),T<w&&(x=T))}E=-h*e*x}p(r,S,c),r.animate({left:E},y,function(){e>0&&r.append(n.find(t.block+":lt("+e*x+")")).css({left:0}),S=n.find(t.block).first().data("index"),o&&(S==0?(i.addClass(o),s.removeClass(o)):S+w==c?(i.removeClass(o),s.addClass(o)):(i.removeClass(o),s.removeClass(o)));if(a){var u;f?u=n.find("["+f+"="+S+"]"):u=n.find(t.num+":eq("+S+")"),u.addClass(a).siblings().removeClass(a)}d(r,S,c)})},k=function(){if(!b)return;clearInterval(N),N=setInterval(function(){C(1)},b)},L=function(){i.on("click",function(){C(-1,e(this))}),s.on("click",function(){C(1,e(this))}),u.on("click",function(){var r=e(this),i;if(f)i=r.attr(f);else{var s=r.parent().find(t.num).first().index();i=r.index()-Math.max(s,0)}C(i-n.find(t.block).first().data("index"),r)}),n.on("mouseenter",function(){clearInterval(N),v(s,i,S,c)}).on("mouseleave",function(){m(s,i),k()})};if(c<=w)return;l.each(function(t){e(this).data("index",t)}),L(),k()})}e.fn.slider=function(){return t.apply(this,arguments),this}}(jQuery),function(){function n(e){this.url=e.url,this.mid="",this.huid="",this.suggest=null,this.whichPage=null,this.historyData=null,this.displaying=!1,this.canceled=!1,this.enableShow=!0,this.isPrivacyMode=!1}function g(e){var t="";return e.length==0?"":(t=e.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"),t)}function y(e){i(this,e),this.render()}function b(e){var t=!1;for(var n=0;n<e.length;n++)if(e.charCodeAt(n)>255){t=!0;break}return t}function w(e,t){var n=!1;for(var r=0,i=e.length;r<i;r++)if(e[r]==t){n=!0;break}return n}function E(t){if(!(T.localSave&&So.lib.soLocalStorage&&!C.isPrivacyMode))return[];var n=So.lib.soLocalStorage.getItem(e);if(n)try{n=JSON.parse(n)}catch(r){n=[]}else n=[];var i=$.trim(t).toLowerCase(),s=[];for(var o=0,u=n.length;o<u;o++){var a="",f="";try{a=decodeURIComponent(n[o].word).toLowerCase(),f=n[o].pinyin&&decodeURIComponent(n[o].pinyin.toLowerCase())||""}catch(r){}if(a.indexOf(i)==0||f.indexOf(i)==0){n[o].word=a.replace(/[<>]/g,""),s.push(n[o]);if(s.length==4)break}}return s}function A(e){$.ajax({url:"//smart.sug.so.com/translate-query",method:"POST",dataType:"JSONP",jsonpCallback:"trans",data:{query:$.trim(So.comm.q)}}).success(function(t){t&&t.data?e(t.data):e(null)})}function O(){var e=$.trim(So.comm.q);b(e)?A(M):M(null)}function M(t){if(T&&T.localSave&&So.lib.soLocalStorage&&typeof JSON!="undefined"&&So.web.savesug==1){var n=$.trim(So.comm.q),r=/[^\x00-\xff]/g;if(n.replace(r,"mm").length<=2||n.replace(r,"mm").length>40)return;n=encodeURIComponent(n);var i=C.getHistoryData(),s=!1,o=0;$.each(i,function(e,t){t.word.toLowerCase()==n.toLowerCase()&&(s=!0,o=e)}),s&&i.splice(o,1);var u={};t&&(u={pinyin:encodeURIComponent(t)}),i.unshift($.extend(u,{word:n})),i.length>100&&i.pop(),So.lib.soLocalStorage.setItem(e,JSON.stringify(i)),C.addHistoryDataId()}}var e="sosug",t=[];n.prototype={loadData:function(e){var t=this;T.localSave&&!t.isPrivacyMode&&So.lib.cookie.get("sosug")!=="0"&&(t.historyData=t.getHistoryData(),t.historyData=t.historyData.splice(0,10),t.historyData&&(t.render(),e&&e()))},setOptions:function(e){this.whichPage=e.whichPage||0,this.mid=e.mid,this.huid=e.huid},setSuggest:function(e){this.suggest=e},addHistoryDataId:function(){var t=this;if(!So.lib.soLocalStorage)return;var n=So.lib.soLocalStorage.getItem(e);n?n=JSON.parse(n):n=[];for(var r=0,i=n.length;r<i;r++)if(typeof n[r].id=="undefined"){var s=+(new Date);n[r].id=r+s.toString()}So.lib.soLocalStorage.setItem(e,JSON.stringify(n))},getHistoryData:function(){var t=[];if(So.lib.soLocalStorage){t=So.lib.soLocalStorage.getItem(e);if(t)try{t=JSON.parse(t)}catch(n){t=[]}else t=[]}return t},render:function(){var e=this,t=this.suggest,n="",r=e.whichPage==1?So.comm.sid||"":"";data=e.historyData||[],e.displaying=!0;for(var i=0,s=data.length;i<s;i++){var o=data[i],u=o.id||"",a=g(decodeURIComponent(o.word));n+='<li class="local" unselectable="on" ac_index="'+i+'" acvalue="'+a+'" ac_psid="'+r+'" ac_ext="" data-delid="'+u+'" data-type="local-sug-store"><a href="javascript:;" unselectable="on" title="\u5728\u53f3\u4e0a\u89d2\u8bbe\u7f6e\u4e2d\u53ef\u5173\u95ed\u641c\u7d22\u5386\u53f2\u8bb0\u5f55\u54e6~" class="del">\u5220\u9664</a>'+a+"</li>"}n!=""?(t.oMenu.innerHTML=n,t.oMenu.setAttribute("ac_word",""),t.oMenu.setAttribute("ver",""),t.oMenu.setAttribute("ssid",""),t.selectedIndex=-2,t.show(),e.historyData&&t.sugStorageDel(),So.lib.log("suggest-log",{type:"history-show"})):(t.oMenu.innerHTML=n,t.hide(),t.selectedIndex=-2)},hide:function(){this.suggest.hide(),this.displaying=!1},cancel:function(e){this.canceled=e,e&&this.displaying&&this.hide()}};var r=function(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script"),r=!1;n.src=e,n.charset="utf-8",n.onerror=n.onload=n.onreadystatechange=function(){!r&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&(r=!0,t.removeChild(n))},t.insertBefore(n,t.firstChild)},i=function(e,t){for(var n in t)e[n]=t[n];return e},s=function(e,t){return i(document.createElement(e),t)},o=function(e){return e=e||window.event,e.target||e.srcElement},u=function(e){return e=e||window.event,e.which||e.keyCode||e.charCode},a=function(e){e=e||window.event,e.preventDefault&&e.preventDefault()||(e.returnValue=!1),e.stopPropagation&&e.stopPropagation()},f=function(e,t){return(new RegExp("(?:^|\\s)"+t+"(?:\\s|$)","i")).test(e.className)},l=function(e,t){f(e,t)||(e.className=(e.className+" "+t).replace(/^\s+|\s+$/g,""))},c=function(e,t){f(e,t)&&(e.className=e.className.replace(new RegExp("(?:\\s|^)"+t+"(?:\\s|$)","i")," ").replace(/^\s+|\s+$/g,""))},h=function(e,t,n){do if(e.tagName==t)return e;while(e!=n&&(e=e.parentNode));return null},p=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},d=function(e,t,n){var r=e.split("://");r.shift();var i=parseInt(T.width)-t.length*15-5-(n?16:29)-15,s=r.join("");return s.charAt(s.length-1)=="/"&&(s=s.substr(0,s.length-1)),s.length*7>i&&(s=s.substr(0,Math.floor(i/7)-2)+".."),s},v=function(e){return e.length>3||e.length>1&&/[\u4e00-\u9fa5]/.test(e)?!0:!1},m=/msie/i.test(navigator.userAgent);y.prototype={width:0,oText:null,itemsData:null,oMenu:null,oWrap:null,selectedIndex:-2,filteredValue:"",filteringValue:"",acValue:"",closed:!1,showCount:0,isCreateWidth:!0,focusByClick:!1,show:function(){var e=$.trim(this.oText.value);(this.options.enableHotword||e)&&this.oMenu.childNodes.length&&(window.sugIsShow||(this.oWrap.style.display="",this.closed=!1,l(this.oPos,"sug-border")),window.sugIsShow=undefined)},hide:function(e){typeof this.beforeHide=="function"&&this.beforeHide(),this.oWrap.style.display="none",this.closed=!0,c(this.oPos,"sug-border"),C.displaying=!1},refreshItems:function(e){var t=this,n=$.trim(this.oText.value),r=t.itemsData;if(n!=t.query)return;if(r&&!r.__isItemsDataRendered||e){var i=[],s=Math.min(t.showCount,r.length);for(var o=0;o<s;o++){var u="";C.whichPage==1&&(u=So.comm.sid||"");var a="";r[o].id&&r[o].id!="0"&&r[o].id!="-1"&&(a=r[o].id),r[o].type=="history"?i.push('<li unselectable="on" class="local" ac_index="'+o+'" acValue="'+r[o].sVal+'" ac_psid="'+u+'" ac_source="'+r[o].source+'" ac_eci="'+r[o].eci+'" ac_ext="'+r[o].ext+'" data-delid="'+a+'" data-type="local"><a href="javascript:;" unselectable="on" class="del" title="\u5728\u53f3\u4e0a\u89d2\u8bbe\u7f6e\u4e2d\u53ef\u5173\u95ed\u641c\u7d22\u5386\u53f2\u8bb0\u5f55\u54e6~">\u5220\u9664</a>'+r[o].sTitle+"</li>"):i.push('<li unselectable="on" ac_resrc="'+r[o].resrc+'" ac_psid="'+u+'" ac_source="'+r[o].source+'" ac_eci="'+r[o].eci+'" ac_ext="'+r[o].ext+'" ac_index="'+o+'" acValue="'+r[o].sVal+'"><span unselectable="on">'+r[o].sTitle+"</span></li>")}t.oMenu.innerHTML=i.join(""),t.oMenu.setAttribute("ac_word",t.query),t.oMenu.setAttribute("ver",t.version),t.oMenu.setAttribute("ssid",t.ssid),r.length?t.show():t.hide(),t.filteredValue=t.filteringValue,t.acValue="",t.selectedIndex=-2,r.__isItemsDataRendered=!0,t.findStorageDel()}},findStorageDel:function(){var e=this;$(e.oMenu).find(".local a").on("click",function(t){var n=$(this).parent(".local"),r=$.trim(S.value),i=(So.comm.sid||"")+r;delete x[i],e.delStorage(n.attr("acvalue"),n.data("delid")),e.refreshData(),a(t),So.lib.log("suggest-log",{type:"typing-sug-dele"})}),$(e.oMenu).find(".local a").on("mousedown",function(e){a(e)})},sugStorageDel:function(){var e=this;$(e.oMenu).find(".local a").on("click",function(t){var n=$(this).parent(".local");e.delStorage(n.attr("acvalue"),n.data("delid")),C.loadData(),a(t),So.lib.log("suggest-log",{type:"sug-dele"}),$('.ac_wrap [data-type="local-sug-store"]').length==0&&$(".ac_wrap .bottom-tool").hide()})},delStorage:function(n,r){if(!n)return;w(t,n)||t.push(n);var i=C.getHistoryData();n=encodeURIComponent(n);for(var s=0,o=i.length;s<o;s++)r&&i[s]&&i[s].id&&r==i[s].id?i.splice(s,1):i[s]&&i[s].word.toLowerCase()==n.toLowerCase()&&i.splice(s,1);So.lib.soLocalStorage.setItem(e,JSON.stringify(i))},delRequest:function(e,t){var n="//sug.so.360.cn/suggest_del",r={src:So.comm.pid=="home"?"so_home":"srp_suggst",encodein:"utf-8",encodeout:"utf-8",format:"json",mid:this.options.mid,huid:this.options.huid,del_words:e};$.ajax({url:n,data:r,dataType:"jsonp"}).success(function(e){console.log(e)})},setSelectedIndex:function(e,t){var n=this,r=n.oMenu.childNodes;if(r.length){n.selectedIndex>-1&&c(r[n.selectedIndex],"selected"),e=(e+r.length+2)%(r.length+2);if(e==r.length)n.acValue=n.oText.value=n.filteringValue,n.acValue=$.trim(n.acValue),e=-2;else{if(e==r.length+1)return n.setSelectedIndex(-2-n.selectedIndex,t),!1;n.acValue=n.oText.value=r[e].getAttribute("acValue"),n.acValue=$.trim(n.acValue),l(r[e],"selected")}}else e=-2;n.selectedIndex=e},render:function(){function b(){if(E)return!1;var t=$.trim(r.value),n=e.options.enableHotword&&(!e.options.clickEmptyToTriggerHotword||e.focusByClick);n&&C.cancel(t&&t!=e.acValue);var i=$(".ac_wrap .bottom-tool");t?(t!=e.filteredValue&&t!=e.filteringValue&&t!=e.acValue&&(e.filteringValue=t,e.refreshData()),e.itemsData&&e.refreshItems(),y!=40&&y!=38&&i.hide()):(e.acValue=e.filteringValue=e.filteredValue="",n&&C.enableShow?C.displaying||C.loadData(function(){So.lib.cookie.get("sosug")!=="0"&&C.getHistoryData().length>0&&(i.length==0?($('<div class="bottom-tool"><a unselectable="on" href="javascript:;" id="clear_history">\u5220\u9664\u5386\u53f2</a></div>').appendTo(".ac_wrap_inner"),$("#clear_history").on("click",function(){$(".ac_wrap .bottom-tool").hide(),clearSugStorage(),$(".ac_wrap .ac_menu").html(""),e.hide()})):i.show())}):e.hide())}function w(t){e.closed&&e.show(),clearInterval(e._refreshTimer),e._refreshTimer=setInterval(b,100)}var e=this;if(e._rendered)return;e._rendered=!0;var t='<div class="ac_wrap_inner"><div class="ac_menu_ctn"><ul class="ac_menu"></ul><div class="so_feedback"><a href="javascript:;" target="_blank" class="so_feedback_link" data-class="ac_menu"><span class="so_feedback_icon"></span><span class="so_feedback_txt">\u53cd\u9988</span></a></div></div></div>';/msie[ \/os]*6\./ig.test(navigator.userAgent)&&(t='<iframe class="ac_bgIframe" frameBorder="0"></iframe>'+t);var n=s("div",{className:"ac_wrap",innerHTML:t.replace(/(<\w+)/g,'$1 unselectable="on"')}),r=e.oText,i=e.oPos||r;i.parentNode.insertBefore(n,i);var f=e.oMenu=n.getElementsByTagName("ul")[0];r.setAttribute("autoComplete","off");var d=0,v=0;if(So.lib.checkAbv(1112,"UI_2")||So.lib.checkAbv(1112,"UI_3"))d=2,v=-1;if(e.isCreateWidth){var g=d+(e.oText.getAttribute("suggestWidth")||i.offsetWidth)+"px";m?n.style.width=g:n.style.minWidth=g}n.style.top=i.offsetHeight-1+v+"px",n.style.left=i.offsetLeft+"px",e.oWrap=n,e.width=g,e.hide(),p(e.oText,"click",function(t){C.enableShow=!0,e.show()});var y="";p(e.oText,"keydown",function(t){var r=0;y=u(t),C.enableShow=!0;switch(y){case 40:r=1;break;case 38:r=-1;break;case 27:C.enableShow=!1,e.closed||(e.hide(),a(t));break;case 13:}r&&(a(t),n.style.display=="none"?e.show():e.setSelectedIndex(e.selectedIndex+r))}),p(e.oText,"focus",w),p(e.oText,"input",function(){e.closed&&e.show(),b()}),p(e.oText,"click",function(){$.trim(e.oText.value)||(e.focusByClick=!0)}),p(r.form,"submit",function(t){if(e.onBeforeSubmit&&e.selectedIndex>=0){var n=e.oMenu.children[e.selectedIndex],i={inputValue:$.trim(r.value),index:parseInt(n.getAttribute("ac_index"),10),word:n.getAttribute("acvalue"),type:n.getAttribute("data-type"),resrc:n.getAttribute("ac_resrc"),ext:n.getAttribute("ac_ext"),source:n.getAttribute("ac_source"),psid:n.getAttribute("ac_psid"),eci:n.getAttribute("ac_eci")};e.onBeforeSubmit(i)===!1&&a(t)}setTimeout(function(){e&&(e.oText.blur(),e.acValue=e.filteringValue=e.filteredValue="",e.oMenu.innerHTML="",e.selectedIndex=-2,C.displaying=!1)},20)}),p(e.oText,"blur",function(t){e.hide(),clearInterval(e._refreshTimer)});var E,S;n.onmousedown=function(e){var t=o(e),n=h(t,"LI",f);a(e),clearTimeout(S),E=!0,S=setTimeout(function(){E=!1},2e3)},f.onclick=function(t){var n=o(t),i=h(n,"LI",f);if(i){r.blur(),setTimeout(function(){r.focus()},10);var s=0,u=i,a=$.trim(r.value);while(u=u.previousSibling)s++;e.setSelectedIndex(s,!0),e.hide(),clearInterval(e._refreshTimer);var l={index:parseInt(i.getAttribute("ac_index"),10),word:i.getAttribute("acvalue"),type:i.getAttribute("data-type"),inputValue:a};e.onselectitem&&e.onselectitem(l)}},f.onmouseover=function(t){var n=o(t),r=h(n,"LI",f);r&&(e.enableHoverState?l(r,"hover"):(e.selectedIndex>-1&&c(e.oMenu.childNodes[e.selectedIndex],"selected"),l(r,"selected"),e.selectedIndex=parseInt(r.getAttribute("ac_index"))))},f.onmouseout=function(t){var n=o(t),r=h(n,"LI",f);r&&(e.enableHoverState?c(r,"hover"):c(r,"selected"))},n.onmouseout=function(t){e.enableHoverState||(e.selectedIndex>-1&&c(e.oMenu.childNodes[e.selectedIndex],"selected"),e.selectedIndex=-2)},document.activeElement===e.oText&&w()}};var S=null,x={},T=null,N,C=new n({url:"//www.so.com/zt/api/hotword.js?t="+ +(new Date)}),k=function(e,n){T.dataAdapter&&!n&&(e=T.dataAdapter(e));var r=[],i=e.result||[],s=e.version||"",o=e.ssid||"",u=$.trim(S.value),a=e.ext||"";for(var f=0,l=i.length;f<l;f++){var c=i[f].word,h=c,p=i[f].resrc||"",d=i[f].source||"",v=i[f].type||"",m=a,y="";C.whichPage==1&&(y=So.comm.sid||"");if(v=="history"&&w(t,c))continue;u&&h.toLowerCase().indexOf(u.toLowerCase())===0?h=g(h.substr(0,u.length))+'<b unselectable="on">'+g(h.substr(u.length))+"</b>":h=g(h),c&&r.push({sVal:c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),sTitle:h,type:v,id:g(i[f].id||""),resrc:g(p||""),psid:y,ext:g(m),source:d,eci:g(i[f].eci||"")})}T.query=e.query,T.itemsData=r,T.version=s,T.ssid=o;if(e.query){var b=(So.comm.sid||"")+e.query;x[b]=e}},L=function(e){e=i({clickEmptyToTriggerHotword:!1,enableHotword:!1,alignElement:e.inputElement,pqElement:"",urlPrefix:"http://sug.so.360.cn/suggest/word?callback=suggest_so&encodein=utf-8&encodeout=utf-8&word=",enableHoverState:!1,localSave:0,showCount:10,isCreateWidth:!0},e);var t=e.urlPrefix.match(/callback=(\w+)/)[1];window[t]=k,S=e.inputElement,T=window.cb=new y({options:e,oText:S,oPos:e.alignElement,enableHoverState:e.enableHoverState,dataAdapter:e.dataAdapter,beforeHide:e.beforeHide||function(){},beforeSelectItem:e.beforeSelectItem,onBeforeSubmit:e.onBeforeSubmit,localSave:e.localSave,showCount:e.showCount,isCreateWidth:e.isCreateWidth,onselectitem:function(e){if(this.beforeSelectItem&&this.beforeSelectItem(e)===!1)return;var t=S.form.elements;for(var n=0;n<t.length;n++)if(t[n].type=="submit"){t[n].click();return}},refreshData:function(){var t=$.trim(S.value),n=(So.comm.sid||"")+t,i=x[n];if(i)k(i,!0);else{var s=e.urlPrefix+"&fields=word&word="+encodeURIComponent(t);e.sid&&So.comm.sid&&(s+="&sid="+So.comm.sid),e.pqElement&&(s+="&pq="+encodeURIComponent(So.comm.q)),e.mid&&(s+="&mid="+encodeURIComponent(e.mid)),e.huid&&(s+="&huid="+encodeURIComponent(e.huid)),s+="&llbq="+encodeURIComponent(So.comm.llbq);var o=E(t),u=[],a=[];for(var f=0,l=o.length;f<l;f++)u.push(o[f].word),a.push(o[f].id);s+="&cache="+encodeURIComponent(u.join("")),s+="&id="+encodeURIComponent(a.join(",")),r(s)}}}),C.setSuggest(T),C.setOptions(e)};window.clearSugStorage=function(){So.lib.soLocalStorage&&So.lib.soLocalStorage.removeItem(e)},window.setStorage=O,setTimeout(function(){O()},300,!0),setTimeout(function(){try{external.AppCmd(external.GetSID(window),"sesafe","GetIncognitoStatus","1","",function(e,t){100==e&&t=="true"&&(C.isPrivacyMode=!0)})}catch(e){}},30),window.createSuggest=L}(),function(){if(typeof window.monitor!="undefined")return;var e="V1.2.2(2012.8.7)",t="360.cn",n=function(r,s){var o=document,u=navigator,f=r.screen,l=document.domain.toLowerCase(),h=u.userAgent.toLowerCase(),p={trim:function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")}},d={on:function(e,t,n){e.addEventListener?e&&e.addEventListener(t,n,!1):e&&e.attachEvent("on"+t,n)},parentNode:function(e,t,n){n=n||5,t=t.toUpperCase();while(e&&n-->0){if(e.tagName===t)return e;e=e.parentNode}return null}},v={fix:function(e){if(!("target"in e)){var t=e.srcElement||e.target;t&&t.nodeType==3&&(t=t.parentNode),e.target=t}return e}},m=function(){function e(e){return e!=null&&e.constructor!=null?Object.prototype.toString.call(e).slice(8,-1):""}return{isArray:function(t){return e(t)=="Array"},isObject:function(e){return e!==null&&typeof e=="object"},mix:function(e,t,n){for(i in t)if(n||!(e[i]||i in e))e[i]=t[i];return e},encodeURIJson:function(e){var t=[];for(var n in e){var r=e[n];if(typeof r=="undefined")continue;/^(password|pass|username)$/i.test(n)&&(n="__key__",r="__val__"),/(password|pass|username)=/i.test(e[n])&&(r="__val__"),t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")}}}(),g={get:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=o.cookie.match(n))?unescape(t[2]):""},set:function(e,t,n){n=n||{};var r=n.expires;typeof r=="number"&&(r=new Date,r.setTime(r.getTime()+n.expires)),o.cookie=e+"="+escape(t)+(r?";expires="+r.toGMTString():"")+(n.path?";path="+n.path:"")+(n.domain?"; domain="+n.domain:"")}},y={getProject:function(){return""},getReferrer:function(){return o.referrer},getBrowser:function(){var e={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(i in e)if(h.indexOf(e[i])>-1)return i;var t=!1;try{+external.twGetVersion(external.twGetSecurityID(r)).replace(/\./g,"")>1013&&(t=!0)}catch(n){}if(t)return"360se-noua";var s=h.match(/(msie|chrome|safari|firefox|opera)/);return s=s?s[0]:"",s=="msie"&&(s=h.match(/msie[^;]+/)),s},getLocation:function(){var e="";try{e=location.href}catch(t){e=o.createElement("a"),e.href="",e=e.href}return e=e.replace(/[?#].*$/,""),e=/\.(s?htm|php)/.test(e)?e:e.replace(/\/$/,"")+"/",e},getGuid:function(){function e(e){var t=0,n=0,r=e.length-1;for(r;r>=0;r--){var i=parseInt(e.charCodeAt(r),10);t=(t<<6&268435455)+i+(i<<14),(n=t&266338304)!=0&&(t^=n>>21)}return t}function n(){var t=[u.appName,u.version,u.language||u.browserLanguage,u.platform,h,f.width,"x",f.height,f.colorDepth,o.referrer].join(""),n=t.length,i=r.history.length;while(i)t+=i--^n++;return(Math.round(Math.random()*2147483647)^e(t))*2147483647}var i="__guid",s=g.get(i);if(!s){s=[e(o.domain),n(),+(new Date)+Math.random()+Math.random()].join(".");var a={expires:2592e7,path:"/",domain:".so.com"};if(t){var c="."+t;if(l.indexOf(c)>0&&l.lastIndexOf(c)==l.length-c.length||l==c)a.domain=c}g.set(i,s,a)}return function(){return s}}(),getCount:function(){var e="count",t=g.get(e);return t=(parseInt(t)||0)+1,g.set(e,t,{expires:864e5,path:"/"}),function(){return t}}(),getFlashVer:function(){var e=-1;if(u.plugins&&u.mimeTypes.length){var t=u.plugins["Shockwave Flash"];t&&t.description&&(e=t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(r.ActiveXObject&&!r.opera)for(var n=16;n>=2;n--)try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);if(i){var s=i.GetVariable("$version");e=s.replace(/WIN/g,"").replace(/,/g,".")}}catch(o){}return e=parseInt(e,10),function(){return e}}(),getContainerId:function(e){var t=E.areaIds;if(t){var n,r=new RegExp("^("+t.join("|")+")$","ig");while(e){if(e.id&&r.test(e.id))return(e.getAttribute("data-desc")||e.id).substr(0,100);e=e.parentNode}}return""},getText:function(e){return p.trim((e.getAttribute("text")||e.innerText||e.textContent||e.title||"").substr(0,100))}},w={getBase:function(){return{p:y.getProject(),u:y.getLocation(),id:y.getGuid(),guid:y.getGuid()}},getTrack:function(){return{b:y.getBrowser(),c:y.getCount(),r:y.getReferrer(),fl:y.getFlashVer()}},getClick:function(e){e=v.fix(e||event);var t=e.target,n=t.tagName,r=y.getContainerId(t);if(t.type!="submit"){if(n=="AREA")return{f:t.href,c:"area:"+t.parentNode.name,cId:r};var i,s;return n=="IMG"&&(i=t),t=d.parentNode(t,"A"),t?(s=y.getText(t),{f:t.href,c:s?s:i.src.match(/[^\/]+$/),cId:r}):!1}var o=d.parentNode(t,"FORM");if(o){var u=o.id||"",a=t.id,f={f:o.action,c:"form:"+(o.name||u),cId:r};if((u=="search-form"||u=="searchForm")&&(a=="searchBtn"||a=="search-btn")){var l=S("kw")||S("search-kw")||S("kw1");f.w=l?l.value:""}return f}},getKeydown:function(e){e=v.fix(e||event);if(e.keyCode!=13)return!1;var t=e.target,n=t.tagName,r=y.getContainerId(t);if(n=="INPUT"){var i=d.parentNode(t,"FORM");if(i){var s=i.id||"",o=t.id,u={f:i.action,c:"form:"+(i.name||s),cId:r};if(o=="kw"||o=="search-kw"||o=="kw1")u.w=t.value;return u}}return!1}},E={trackUrl:null,clickUrl:null,areaIds:null},S=function(e){return document.getElementById(e)};return{version:e,util:y,data:w,config:E,sendLog:function(){return r.__monitor_imgs={},function(e){var t="log_"+ +(new Date),n=r.__monitor_imgs[t]=new Image;n.onload=n.onerror=function(){r.__monitor_imgs[t]=null,delete r.__monitor_imgs[t]},n.src=e}}(),buildLog:function(){var e="";return function(t,n){if(t===!1)return;t=t||{};var r=w.getBase();t=m.mix(r,t,!0);var i=m.encodeURIJson(t);if(i==e)return;e=i,setTimeout(function(){e=""},500),i+="&t="+ +(new Date),n=n.indexOf("?")>-1?n+"&"+i:n+"?"+i,this.sendLog(n)}}(),log:function(e,t){t=t||"click";var n=E[t+"Url"];n||alert("Error : the "+t+"url does not exist!"),this.buildLog(e,n)},setConf:function(e,t){var n={};return m.isObject(e)?n=e:n[e]=t,this.config=m.mix(this.config,n,!0),this},setUrl:function(e){return e&&(this.util.getLocation=function(){return e}),this},setProject:function(e){return e&&(this.util.getProject=function(){return e}),this},setId:function(){var e=[],t=0,n;while(n=arguments[t++])m.isArray(n)?e=e.concat(n):e.push(n);return this.setConf("areaIds",e),this},getTrack:function(){var e=this.data.getTrack();return this.log(e,"track"),this},getClickAndKeydown:function(){var e=this;return d.on(o,"click",function(t){var n=e.data.getClick(t);e.log(n,"click")}),d.on(o,"keydown",function(t){var n=e.data.getKeydown(t);e.log(n,"click")}),n.getClickAndKeydown=function(){return e},this}}}(window);n.setConf({trackUrl:"//s.360.cn/w360/s.htm",clickUrl:"//s.360.cn/w360/c.htm",wpoUrl:"//s.360.cn/w360/p.htm"}),window.monitor=n}();var paramsComm={},Display={moheLog:function(e){So.lib.log("",$.extend({},e,{_guid:So.lib.cookie.get("__guid")||"",_huid:So.lib.cookie.get("__huid")||"",qid:So.comm.user.qid,pid:So.comm.pid,psid:So.comm.psid,sid:So.comm.sid,abv:So.comm.abv,src:So.comm.src}),"sou/ob","//s.qhupdate.com/sou/ob.gif")},kzxLog:function(e){So.lib.log("",$.extend({},e,{uid:So.comm.guid,device:2,sign:"360_e39369d1",channel:"sousuo"}),"","//news.qhstatic.com/srv/c")}};So.web._srp=function(){monitor.util.getGuid=function(){return So.lib.cookie.get("QiHooGUID")};var e=monitor.data.getBase;return monitor.data.getBase=function(){var t=e();return delete t.id,delete t.u,delete t.p,t},function(){var e=document.documentElement;paramsComm=$.extend({_guid:So.lib.cookie.get("__guid")||"",_huid:So.lib.cookie.get("__huid")||"",_hmid:So.lib.getMid(),qid:So.comm.user.qid,pid:So.comm.pid,sid:So.comm.sid,abv:So.comm.abv,src:So.comm.src,dpi:window.screen.width+"_"+window.screen.height,ds:(e.clientWidth||window.innerWidth)+"_"+(e.clientHeight||window.innerHeight)},So.comm.monitor);var t=$(".adv-search-btn").attr("data-val"),n=function(){var e=$("div[id^=mohe-]").length,t={},n="";$("a[data-res]").each(function(e,n){var r=$(n).data("res"),i=r.e||"";if(!i)return!0;t.hasOwnProperty(i)||(t[i]=0),t[i]++}),e>0&&(t.ob=e);for(engtype in t)n.length!==0&&(n+=","),n+=engtype+":"+t[engtype];return n}(),r=function(){return paramsComm._huid?paramsComm._huid:So.lib.cookie.get("__huid")||""},i=function(){var e=[],t=[];return $(".res-list").each(function(e,n){var r=$(n),i=r.find(".g-mohe");e+=1,i.length>0?t.push(e+":"+i.attr("id")):t.push(e+":n")}),$("#side .g-mohe").each(function(t,n){e.push($(n).attr("id"))}),t.push("0:"+e.join("|")),t}();$(".res-list").length>0&&(monitor.setConf("wpoUrl","//s.qhupdate.com/sou/so.gif?q="+encodeURIComponent(So.comm.q)),monitor.log({},"wpo"));if($(".m-corr").length>0){var s="q="+encodeURIComponent(So.comm.q),o=$.extend({corr:$(".m-corr").attr("data-corr"),corrtype:$(".m-corr").attr("data-type"),corrver:$(".m-corr").attr("data-cid")},paramsComm);monitor.setConf("wpoUrl","//s.qhupdate.com/sou/disp_corr2.gif?"+s),monitor.log(o,"wpo")}if(document.cookie.indexOf("sgtclick=")>-1){var u,a,f=[],l=So.lib.cookie.get("sgtclick"),o={};if(l!=""){f=l.split("|");var c=f[0];a=f[1];var h=f[2],p=f[3],d=f[4]||"result",v=f[5]||"",m=f[6],g=f[7],y=f[8],b=f[9],w=f[10]||"",E=f[11]||"";o=$.extend({pro:So.comm.pid,mod:"suggest",input:p,click:c,pos:1*a+1,v:v,resrc:m,eci:g,nlpv:y,source:b,mid:So.lib.getUnMid(So.comm.md),psid:w,ssid:E},paramsComm,{pid:d}),So.lib.cookie.remove("sgtclick"),monitor.setConf("clickUrl","//s.qhupdate.com/sou/suggest.gif"),monitor.log(o,"click")}}var S=function(e,t){var n={},r="",i=/^https?:\/\/sh\.qihoo\.com\/(?:[\d][\w]+)|(?:(?:pc|mob)\/(?!home$))/,s=t||e.find("[id^=mohe-]").eq(0);if(s.length>0){var o=s.data("mohe-type");switch(o){case"banner_news":r="so_51";break;case"news_hotnew":r="so_52";break;case"news_all":r="so_53";break;case"news":r="so_54";break;default:r="so_50"}}else r="so_1";e.find("a").each(function(e,t){var s=$(t),o=s.data("mdurl")||So.lib.getLinkUrl(s.attr("href"));o&&i.test(o)&&!n[o]&&(n[o]=1,Display.kzxLog({ext:encodeURIComponent(o),refer_scene:r}))})},x=[],T=!1,N=!1,C=null,k=function(){clearTimeout(C),C=setTimeout(function(){var e=$(window).height(),t=$("body").scrollTop()||$("html").scrollTop()||0;_.each(function(n,r){if(!x[n]){var i=$(r),s=i.offset().top,o=i.height();s<t+e-o&&s-t>100&&(x[n]=!0,S(i))}});var n=$("#mohe-banner-news");if(!T&&n.length>0){var r=n.offset().top,i=n.height();r<t+e-i&&r-t>90&&(T=!0,S(n.parent()))}var s=$("#mohe-news");if(!N&&s.length>0){var r=s.offset().top,i=s.height();r<t+e-i&&r-t>90&&(N=!0,S(s.parent(),s))}},100)};$(window).on("scroll.haosou",function(){k()}),$(window).on("resize.haosou",function(){k()}),k(),$(".e-buss a").on("mousedown",function(){if($(this).attr("e_href")||$(this).attr("href")){var e=$(this).closest(".e-buss[data-pos]").attr("data-pos"),t={q:So.comm.q,p2:e},n=$(this).closest(".m-spread-middle").data("index");n&&(t.p1=n),So.lib.log("sda",t)}}),$(".self-buss a").on("mousedown",function(){So.lib.log("self-ads",{q:So.comm.q,type:$(this).data("type")})}),$("#feedback_top").on("mousedown",function(){So.lib.log("feedback-new",{q:So.comm.q})}),$(".m-corr").delegate("a","mousedown",function(e){var t="q="+encodeURIComponent(So.comm.q),n=$.extend({corr:$(".m-corr").attr("data-corr"),select:$(".m-corr").attr("data-type")=="3"?$(this).text():$(".m-corr").attr("data-corr"),corrtype:$(".m-corr").attr("data-type"),corrver:$(".m-corr").attr("data-cid")},paramsComm);monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_corr2.gif?"+t),monitor.log(n,"click")}),$("#main").delegate(".res-title a","mousedown",function(e){paramsComm._huid=r();var s=e.target,o=$(this),u=o.data("res")||{},a=$(".res-title").has(this).find(".icon-official").length,f=o.parents("li.res-list"),l=$(".res-rich",f),c=o.attr("data-ver")||"",h=$.extend({q:So.comm.q,pn:So.comm.pn,utype:o.parents(".res-title").length>0?"main":"sub",value:o.data("initurl")||o.data("mdurl")||So.lib.getLinkUrl(o.attr("href")),replace_url:o.data("replaceurl"),pos:u.pos||"",et:u.e||"",engdetail:n,official:a>0?1:0,tp:u.tp||"",from:u.fr||"",stp:(c?u.stp+"_"+c:u.stp)||"",rcs:i.join(","),soadv:t,sms:So.web.srplog.params.sms,ssl:location.protocol=="https:"?1:0,url_fp:f.attr("data-urlfp"),kzx:f.attr("data-kzx"),abid:f.attr("data-abtest-id")||l.attr("data-abtest-id"),psid:So.comm.psid,fr:So.comm.ofr},paramsComm),p=o.attr("data-kid");p&&(h.kid=p),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_og.gif"),monitor.log(h,"click")}),$("#main").delegate(".res-rich a","mousedown",function(e){paramsComm._huid=r();if($(this).hasClass("m"))return;var n=e.target,s=$(this),o=$(".res-list").has(this).find(".res-title a[data-res]"),u=o.data("res")||{},a=s.data("mdurl")||So.lib.getLinkUrl(s.attr("href")),f=o.data("initurl")||o.data("mdurl")||So.lib.getLinkUrl(o.attr("href")),l=s.attr("data-type"),c=s.parents("li.res-list"),h=$(".res-rich",c),p=o.attr("data-ver")||"",d=$.extend({q:So.comm.q,pn:So.comm.pn,utype:"sub",value:f,sv:a,replace_url:o.data("replaceurl"),tp:u.tp||"",pos:u.pos||"",et:u.e||"",rcs:i.join(","),which:l,stp:(p?u.stp+"_"+p:u.stp)||"",soadv:t,sms:So.web.srplog.params.sms,ssl:location.protocol=="https:"?1:0,url_fp:c.attr("data-urlfp"),kzx:c.attr("data-kzx"),abid:h.attr("data-abtest-id"),psid:So.comm.psid,fr:So.comm.ofr},paramsComm),v=o.attr("data-kid");v&&(d.kid=v),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_og.gif"),monitor.log(d,"click")}),$("#warper div[id^=mohe-]").delegate("a,input[type=submit],input[type=button],button,[data-md]","mousedown",function(e){if($(e.delegateTarget).attr("id")!=$(this).closest("div[id^=mohe-]").attr("id"))return;paramsComm._huid=r();var s={q:So.comm.q,pn:So.comm.pn,psid:So.comm.psid};this.href&&(s.type="link",s.value=$(this).data("mdurl")||$(this).data("url")||So.lib.getLinkUrl($(this).attr("href")));var o=$(this).parents("div[id^=mohe-]"),u=o.eq(0).find("h3:first a:first");if(u.data("mdurl")||u.data("url"))var a=u.data("mdurl")||u.data("url");else var a=So.lib.getLinkUrl(u.attr("href"));s.mv=a||"",s.utype=$(this).parents("h3.title").length>0?"main":"sub";if(this.tagName.toLocaleLowerCase()=="input"){s.type="btn";if($(this).data("mdurl")||$(this).data("url")||$(this).data("mk"))s.value=$(this).data("mdurl")||$(this).data("url")||$(this).data("mk");else{var f=$(".res-list div[id^=mohe-] form").has(this);if(f.data("mdurl")||f.data("url")||f.data("mk"))s.value=f.data("mdurl")||f.data("url")||f.data("mk")}}s.cat=[],$(this).attr("data-custom-cat")&&s.cat.push($(this).attr("data-custom-cat"));var l="";$(this).parents("div[id^=mohe-]").each(function(e,t){e==0&&(l=t.id);var n=$(t).attr("data-abtest")||"";n&&(n="-"+n),s.cat.push(t.id+n)});var c=$(this).closest(".res-list");s.pos=$(".result > li.res-list").index(c)+1||$(this).closest("[data-oneboxpos]").attr("data-oneboxpos"),s.cat=s.cat.join(","),s.soadv=t;var h=$(this).attr("data-md")||$(this).parents("[data-md]").attr("data-md"),p=$(this).parents("[data-mgd]").attr("data-mgd");try{if(p){p=$.parseJSON(""+p);for(var d in p)s["md-"+d]=p[d]}if(h){h=$.parseJSON(""+h);for(var v in h)
s["md-"+v]=h[v]}}catch(e){console&&console.log(e)}var m=$(this).closest(".res-list");s.engdetail=n,s=$.extend(s,paramsComm),s.rcs=i.join(","),s.sms=So.web.srplog.params.sms,s.ssl=location.protocol=="https:"?1:0,s.url_fp=m.attr("data-urlfp"),s.abid=$(e.delegateTarget).attr("data-abtest-id")||m.attr("data-abtest-id");var g=m.find(".icon-official").length;s.official=g>0?1:0;var y=$(this).attr("data-rk");y==0?s.rk=s.mv:y==1&&(s.rk=s.value),s.fr=So.comm.ofr,monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_ob.gif"),monitor.log(s,"click")});var L=function(e){var t="",n="";if(e){var r=e.split("&");for(var i=0,s=r.length;i<s;i++){var o=r[i].split("=");o[0]=="eci"?t=o[1]:n=o[1]}}return{eci:t,nlpv:n}},A=$("#rs-top");if(A.length>0){var O=L(A.data("ext")),M=[];$("#rs-top dd a").each(function(e,t){M.push($(t).text()+"@"+$(t).data("source"))}),So.lib.log("",{q:So.comm.q,v:A.attr("data-version"),pn:So.comm.pn,type:"top",eci:O.eci,nlpv:O.nlpv,value:M.join("|")},"sou/disp_rel")}var _=$(".res-list");if(_.length>0){var D=$(".mod-relation"),P=null,H=!1,B=function(){var e=L($("#rs").data("ext")),t=[];$("#rs th a").each(function(e,n){t.push($(n).text()+"@"+$(n).data("source"))}),So.lib.log("",{q:So.comm.q,v:D.attr("data-version"),pn:So.comm.pn,type:"bottom",eci:e.eci,nlpv:e.nlpv,value:t.join("|")},"sou/disp_rel")},j=function(){if(D.length==0)return;clearTimeout(P),P=setTimeout(function(){var e=D.offset().top,t=D.height(),n=$(window).height(),r=$("body").scrollTop()||$("html").scrollTop()||0;!H&&e<r+n+100-t&&(B(),H=!0)},100)};$(window).on("scroll.haosou",function(){j()}),$(window).on("resize.haosou",function(){j()}),j()}var F=$(".res-recommend-tag");if(F.length>0){var v=F.data("version");F.delegate("a","mousedown",function(e){var t=e.target,n=$(t),r=L(n.data("ext"));So.lib.log("",{v:v,type:"middle",eci:r.eci,nlpv:r.nlpv,word:n.text(),source:n.data("source"),pos:n.data("pos")},"sou/click_rel")})}$("#rs-top dd").delegate("a","mousedown",function(e){var t=e.target,n=$(t),r="q="+encodeURIComponent(So.comm.q),i=$("#rs-top dd a").index(n)+1,s=$(".mod-relation").attr("data-version"),o=n.data("source"),u=n.data("ext"),a=L(u),f=$.extend({type:"top",word:n.text(),pos:i,v:s,eci:a.eci,nlpv:a.nlpv,source:o,pn:So.comm.pn},paramsComm,{nlpv:a.nlpv});monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_rel.gif?"+r),monitor.log(f,"click")}),$("#rs table").delegate("a","mousedown",function(e){if($(this).closest(".so_feedback_edit").length)return;var t=e.target,n=$(t),r="q="+encodeURIComponent(So.comm.q),i=$("#rs table a").index(n)+1,s=$(".mod-relation").attr("data-version"),o=n.data("source"),u=n.data("ext"),a=L(u),f=$.extend({word:n.text(),pos:i,v:s,type:"bottom",eci:a.eci,nlpv:a.nlpv,source:o,pn:So.comm.pn},paramsComm,{nlpv:a.nlpv});monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_rel.gif?"+r),monitor.log(f,"click")});if($(".toask").length>0){var I="q="+encodeURIComponent(So.comm.q),o=$.extend({},paramsComm);o.type=$(".toask").first().attr("data-type"),monitor.setConf("wpoUrl","//s.qhupdate.com/sou/disp_tiwen.gif?"+I),monitor.log(o,"wpo")}$(".toask").delegate("a","mousedown",function(e){var t=e.target,n="q="+encodeURIComponent(So.comm.q),r=$.extend({},paramsComm);r.pos=$(".toask").has(this).attr("data-pos"),r.type=$(".toask").has(this).attr("data-type"),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_tiwen.gif?"+n),monitor.log(r,"click")}),$(document).on("mousedown","#side_wrap #so_feb",function(){var e=$("#side_wrap #so_feb dt div").text();So.lib.log("soSafe",{type:"click",q:So.comm.q,p1:e})});var q=$(".res-list [data-appid]");if(q.length>0){var R=[],U=[];$.each(q,function(e,t){var n=$(t);R.push(n.data("res")?n.data("res").stp:n.attr("id")),U.push(n.attr("data-appid"))}),So.lib.log("",{p:"mp_search",pid:"nature",ct:R.join(","),act:"track",mid:So.lib.getUnMid(So.comm.md),cId:U.join(",")},"","//tt.browser.360.cn/c.html"),So.lib.log("mini-app",{type:"show",value:R.length,p1:R.join(",")}),q.closest(".res-list").on("mousedown",function(e){var t=$(e.target);if(t.is("a")){var n=$(this).find("[data-appid]"),r=n.data("res")?n.data("res").stp:n.attr("id"),i=t.attr("href");if(/360APP084DFF939E0341E6AD76B20424999C4E/.test(i)||/so\.mp\.360\.cn/.test(i)){var s=i.match(/appid%3D(\w+)|appid=(\w+)/);s&&(So.lib.log("",{p:"mp_search",pid:"nature",ct:r,act:"click",mid:So.lib.getUnMid(So.comm.md),cId:s[1]||s[2]},"","//tt.browser.360.cn/c.html"),So.lib.log("mini-app",{type:"click",p1:r,p2:t.attr("data-applink")}))}}})}var z=$(".res-list .inter"),W=$(".res-list .inter .inter-item"),X=$(".inter").data("from");z.length>0&&So.lib.log("official_recom",{type:"show",datatype:z.data("type"),from:X,fr:So.comm.fr,mid:So.lib.getUnMid(So.comm.md),src:So.comm.src}),W.find("a").on("mousedown",function(e){var t=$(this).attr("title"),n=$(this).data("pos")+1,r=$(this).closest(".inter-item").find("img").attr("src");So.lib.log("official_recom",{type:"click",datatype:z.data("type"),p1:t,p2:n,p3:r,from:X,fr:So.comm.fr,mid:So.lib.getUnMid(So.comm.md),src:"official_recom_"+z.data("type")})})}}(),So.web._srp(),So.page.reload.push(So.web._srp),function(){$("#g-hd-tabs, .g-hd-logo").delegate("a","mousedown",function(e){var t=e.target,n="q="+encodeURIComponent(So.comm.q),r={},i="";i=$(t).attr("data-i"),r=$.extend({org:"web","new":i,type:"web"},paramsComm),monitor.setConf("clickUrl","//s.qhupdate.com/sou/engswitch.gif?"+n),monitor.log(r,"click")}),$(".hd-rtools").on("mousedown","a[data-log]",function(){So.lib.log("res-type",{q:So.comm.q,type:$(this).attr("data-log")})}),$("body").on("mousedown",'[data-logclick="1"] a',function(){var e=$(this).closest("[data-logmod]").attr("data-logmod");e&&So.lib.log(e,$.extend({type:"click"},$(this).data("log")||{}))}),$(window).on("load",function(){var e=new Image;e.src="//ipv6.www.so.com/_.gif?sid="+So.comm.sid,e.onload=e.onerror=function(){e=null}})}(),function(){function o(){$(window).on("scroll",function(){u()}),$(window).on("resize",function(){u()}),u()}function u(){clearTimeout(e),e=setTimeout(function(){var e=$("["+r+"]["+i+'!="1"]'),n=$(window).width(),s=$(window).height();$.each(e,function(e,o){var u=$(o),f=o.getBoundingClientRect();f.top!=0&&f.bottom!=0&&(f.top>=0&&f.top+t<=s||f.bottom-t>=0&&f.bottom<=s||f.top<=0&&f.bottom>=s)&&(f.left>=0&&f.left+t<=n||f.right-t>=0&&f.right<=n||f.left<=0&&f.right>=n)&&(u.attr(i,"1"),a(u,u.attr(r)||u.attr("id")||""))})},n)}function a(e,t){t=="related_middle"?f(e,t):So.lib.log("ccb",{type:t})}function f(e,t){var n=e.data("version"),r=s(e.data("ext")),i=[];e.find("a").each(function(e,t){i.push($(t).text()+"@"+$(t).data("source"))}),So.lib.log("",{v:n,type:"middle",eci:r.eci,nlpv:r.nlpv,value:i.join("|")},"sou/disp_rel")}var e=null,t=20,n=100,r="data-disp",i="data-disp-send",s=function(e){var t="",n="";if(e){var r=e.split("&");for(var i=0,s=r.length;i<s;i++){var o=r[i].split("=");o[0]=="eci"?t=o[1]:n=o[1]}}return{eci:t,nlpv:n}};o()}(),function(){function f(e){_loader.add("settingPanel","https://s.ssl.qhimg.com/static/8923feda634ec825/common/setting.js"),_loader.use("settingPanel",function(){e()})}if(!document.getElementById("header"))return;$("body").delegate("form .round","mouseenter",function(){$(this).addClass("hover")}),$("body").delegate("form .round","mouseleave",function(){$(this).removeClass("hover")}),$("body").delegate("form .input_key","focus",function(){$(this).parent(".round").addClass("focus")}),$("body").delegate("form .input_key","blur",function(){$(this).parent(".round").removeClass("focus")});var e=$(".input_key"),t=$(".search-del"),n=$(".ac_wrap"),r=!1,i;t.click(function(){var r=$(this),i=t.index(r);e.eq(i).val("").focus(),n&&n.hide()}),e.focus(function(){var n=$(this),s=e.index(n),o=t.eq(s);clearInterval(i),i=setInterval(function(){$.trim(n.val())==""?o.hide():o.show()},100),!r&&+(new Date)-So.comm.t>2e4&&(monitor.setConf("httpsUrl","https://www.so.com/_.gif"),monitor.log({},"https"),r=!0)}).blur(function(){var n=$(this),r=e.index(n),s=t.eq(r);clearInterval(i),$.trim(n.val())==""?s.hide():s.show()});var s=$("#g-hd-quser .user"),o=$("#g-hd-quser .usermenu"),u=null,a=null;s.hover(function(){clearTimeout(a),u=setTimeout(function(){o.show()},200)},function(){clearTimeout(u),a=setTimeout(function(){o.hide()},200)}),o.hover(function(){clearTimeout(a),u=setTimeout(function(){o.show()},200)},function(){clearTimeout(u),a=setTimeout(function(){o.hide()},200)}),$(".hd-rtools .show-list").hoverDelay({hoverEvent:function(e){e.find(".title").addClass("hover"),e.find(".g-menu").show()},outEvent:function(e){e.find(".title").removeClass("hover"),e.find(".g-menu").hide()}}),$("#search_setting").on("click",function(){f(function(){So.web.showSearchSetting()})}),$("#advanced_search").on("click",function(){f(function(){So.web.showAdvancedSearch()})});var l=new Date;l.setFullYear(l.getFullYear()+10),typeof So.lib.cookie.get("so-like-red")=="undefined"&&So.lib.cookie.set("so-like-red",2,{expires:l});var c=So.lib.cookie.get("so-like-red")==2&&So.lib.cookie.get("hasUseFollowBtn")==1,h=$("#my_kzx_flow_follow");if(So.lib.checkAbv(1970,"2")){var p=$('<div id="per_tag_tip">                 <h1 class="tip-title">\u70b9\u51fb\u201c\u4e13\u5c5e\u5174\u8da3\u201d\u67e5\u770b\u5df2\u8ba2\u9605\u5185\u5bb9</h1><div class="tip-close"></div>                 <div class="tip-main"><div class="tip-img"></div><div class="tip-btn">\u77e5\u9053\u4e86</div></div>                 <div class="tip-arrow"><div class="tip-arrow-inner"></div> </div>             </div>');p.insertAfter(h),So.lib.observer.subscribe("so.tag.firstclick",function(e){e==1&&p.show()}),p.on("click",".tip-close,.tip-btn",function(){p.hide()}),h.on("click",function(){So.lib.log("res-type",{type:"follow"})})}else{h.on("click",function(){if(c){var e="//user.360kuai.com/following/redDotCTime",t={sign:"360_e39369d1",uid:So.lib.getUnMid(So.comm.md)||So.lib.getUnMid(So.lib.cookie.get("__md"))||So.lib.cookie.get("__guid")||So.comm.guid,f:"jsonp"};$.ajax({url:e,data:t,method:"get",dataType:"jsonp",crossDomain:!0,success:function(e){$(".follow_reddot").css({visibility:"hidden"})},error:function(e){}})}var n=So.lib.getUnMid(So.comm.md||So.lib.cookie.get("__md"))||So.lib.cookie.get("__guid")||So.comm.guid;window.open("https://www.so.com/zt/recommend.html#/follow"),So.lib.log("res-type",{type:$("#my_kzx_flow_follow").data("redlike")?"red-like":"like"})});if(c){var d="//user.360kuai.com/following/reddot",v={sign:"360_e39369d1",uid:So.lib.getUnMid(So.comm.md)||So.lib.getUnMid(So.lib.cookie.get("__md"))||So.lib.cookie.get("__guid")||So.comm.guid,f:"jsonp",u_ctime:1};$.ajax({url:d,data:v,method:"get",dataType:"jsonp",crossDomain:!0,success:function(e){e.data&&($("#my_kzx_flow_follow").data("redlike",1),$(".follow_reddot").css({visibility:"visible"}),So.lib.log("red_like",{type:"show"}))},error:function(e){console.log(e)}})}$(".toggle-red-dot").on("click",function(){So.lib.cookie.get("so-like-red")==2?(So.lib.log("close-red-dot",{type:"click"}),So.lib.cookie.set("so-like-red",1,{expires:l}),location.reload()):(So.lib.log("open-red-dot",{type:"click"}),So.lib.cookie.set("so-like-red",2,{expires:l}),location.reload())})}}();var showCount=10;document.getElementById("keyword")&&createSuggest({inputElement:document.getElementById("keyword"),alignElement:document.getElementById("suggest-align"),pqElement:!0,mid:So.lib.getUnMid(So.comm.md)||"",huid:So.lib.cookie.get("__huid")||"",sid:!0,localSave:So.lib.cookie.get("sosug")!=="0"?1:0,clickEmptyToTriggerHotword:!1,enableHotword:So.lib.cookie.get("sosug")!=="0"?!0:!1,showCount:showCount,whichPage:1,urlPrefix:"//sug.so.360.cn/suggest?callback=suggest_so&encodein=utf-8&encodeout=utf-8&format=json&src="+(So.comm.fr==="shaonian"?"shaonian":"srp_suggst"),onBeforeSubmit:function(e){var t=$(this.oMenu),n="srp_suggst",r=t.attr("ver")||"",i=t.attr("ssid")||"",s=t.attr("ac_word")||"",o="result";switch(e.type){case"local":n="res-sug-local";break;case"local-sug-store":n="res-sug-store";break;case"sug_recomm":n="res-sug-recomm";break;default:n="srp_suggst_"+r}$(".src:first").val(n);var u=setEciNlpv(e.ext,e.eci);So.lib.cookie.set("sgtclick",[e.word,e.index,e.inputValue,s,o,r,e.resrc,u.eci,u.nlpv,e.source,e.psid,i].join("|"))},beforeHide:function(){var e=$(".src:first");e.attr("data-src")?e.val("srp_no_result"):e.val("srp")}}),So.web.lazyLoad=function(){function o(){s=$(".result li.res-list"),u(),$(window).on("scroll.haosou",function(){u()}),$(window).on("resize.haosou",function(){u()})}function u(){clearTimeout(e),e=setTimeout(function(){var e=$("body").scrollTop()||$("html").scrollTop()||0,n=$(window).height();$.each(s,function(s,o){var u=$(o);if(u.attr(i))return;var a=u.offset().top,f=u.height();if(e+t>a&&e-t<a+f||e+n+t>a&&e+n-t<a+f||a>=e&&a<=e+n||a+f>=e&&a+f<=e+n)So.lib.lazyImg(u,r,function(e){e.removeClass("so-lazyimg"),e.animate({opacity:1},500,function(){e.removeClass("so-lazyimg")})}),u.attr(i,"1")})},n)}var e=null,t=100,n=100,r="data-isrc",i="data-lazyload",s=[];return o(),{init:o}}(),So.page.reload.push(So.web.lazyLoad.init),So.web.Lianmeng=function(){return function(){var e={url:"//api.so.lianmeng.360.cn/naviad",$LianmengAd:$("#lm-rightbottom"),asin:"",count:20,timerOn:!0,$main:$("#no-result").length?$("#no-result"):$("#main"),$side:$("#side"),hasRequest:!1,scrollRaf:null,isNewsFlow:!1,loading:!1,init:function(){var e=this,t=$("#no-result").length?!0:!1;e.isNewsFlow=$("#res_news_flow").length&&(!t||t&&!/msie (6|7|8)/gi.test(navigator.userAgent))||$("#mohe-nlp_user_lm").length,So.lib.log("lianmengAdInit",{type:"show",value:$("#no-result").length}),(So.lib.checkAbv(1703,"DSP2_1")||e.isNewsFlow)&&e.$LianmengAd.length&&So.lib.isVisible1(e.$LianmengAd[0])?e.getData():So.lib.checkAbv(1703,"DSP2_2")&&e.$LianmengAd.length&&e.getData();var n;$(window).off("scroll.lianmeng"),$(window).off("resize.lianmeng"),$(window).on("scroll.lianmeng",function(){clearTimeout(n),!e.hasRequest&&e.$LianmengAd.length&&So.lib.isVisible1(e.$LianmengAd[0])&&(n=setTimeout(function(){e.getData()},50)),So.lib.checkAbv(1703,"DSP2_2")&&!e.isNewsFlow&&e.setFixed()}),So.lib.checkAbv(1703,"DSP2_2")&&!e.isNewsFlow&&$(window).on("resize.lianmeng",function(){e.setFixed()})},initSdk:function(){var e=this;_loader.use("solib-polyfill-sdk,solib-biz-sdk,solib-biz-themes",function(){if(!window.soLib||!window.soLib.Biz)return;So.lib.log("lianmengAdInit",{type:"show",value:$("#no-result").length}),e.$LianmengAd.length&&So.lib.isVisible1(e.$LianmengAd[0])&&e.renderBySdk();var t;$(window).off("scroll.lianmeng"),$(window).off("resize.lianmeng"),$(window).on("scroll.lianmeng",function(){clearTimeout(t),!e.hasRequest&&!e.loading&&e.$LianmengAd.length&&So.lib.isVisible1(e.$LianmengAd[0])&&(t=setTimeout(function(){e.renderBySdk()},50))})})},renderBySdk:function(){var e=this;if(this.$side.height()>=this.$main.height()&&!$("#no-result").length)return;e.loading=!0;var t=['<div class="lianmeng-ad-inner">','<div class="pos-relative">','<h3 class="c-title">\u731c\u4f60\u60f3\u641c</h3>','<span class="c-title-tag">\u5e7f\u544a</span>',"</div>",'<ul id="lianmeng-sdk" class="lianmeng-sdk"></ul>',"</div>"];e.$LianmengAd.append(t.join(""));var n={adTypes:"lianmeng",request:{params:{biz_num:25,biz_lm_id:"s521c48db9a",biz_q:So.comm.q}},monitor:{pro:"so",pid:"search",mod:"lianmeng"}},r=new soLib.Biz(n),i=soLib.BizThemes.textLink,s="#lianmeng-sdk",o="blockList",u={container:s,template:i.templates(o)};r.getData().then(function(t){e.hasRequest=!0,e.loading=!1,t&&t.length>=10&&r.render(u,t,function(){var t={container:s,type:o,maxLine:7};i.init(t,function(){}),e.$LianmengAd.addClass("show"),So.lib.log("lianmengAd",{type:"show",value:$("#no-result").length}),e.bindSdkEvents()})})},bindSdkEvents:function(){var e=this;$("a",e.$LianmengAd).click(function(e){So.lib.log("lianmengAd",{type:"click",datatype:$(this).closest("[data-so-biz-index]").data("soBizIndex")+1,value:$("#no-result").length})})},getData:function(){if(this.$side.height()>=this.$main.height()&&!$("#no-result").length)return;var e=this,t={ls:So.lib.checkAbv(1703,"DSP2_2")?"s5b8c48e49e":"s521c48db9a",npg:e.count,gn:1,l:1,idx:0,sid:So.comm.sid||So.comm.guid,haoid:So.lib.getUnMid(So.comm.md)};$.ajax({url:e.url,type:"get",dataType:"jsonp",data:t,jsonp:"_callback",success:function(t){if(t&&t.guess&&t.guess.length&&t.guess[0].sites&&t.guess[0].sites.length>1){e.asin=t.asin;if(So.lib.checkAbv(1463,"lianmeng_2")){var n=$("#so-pdr-guide dd a:eq(0)").text()||"";n&&t.guess[0].sites.unshift({name:n,url:"/s?src=lm&ls=s5b8c48e49e&q="+encodeURIComponent(n),clk:""})}e.renderHtml(t.guess[0].sites),So.lib.checkAbv(1703,"DSP2_2")&&!e.isNewsFlow&&(e.initHeight=e.$LianmengAd.outerHeight(),e.setFixed())}},complete:function(){e.hasRequest=!0}})},renderHtml:function(e){var t=['<div class="lianmeng-ad-inner">','<div class="pos-relative">','<h3 class="c-title">\u731c\u4f60\u60f3\u641c</h3>','<span class="c-title-tag">\u5e7f\u544a</span>',"</div>",'<div class="clearfix">',"<% for(var i = 0; i < 2; i++) { %>",'<ul class="lianmeng-ad-list <% if (i === 0){ %>lianmeng-ad-fl<% } else { %>lianmeng-ad-fr<% } %> js-lianmeng-ad-list">',"<% var len = Math.min(Math.floor(data.length/2), count); for(var j = 0; j < len; j++) { var index = j + i * len, rIndex = 2*j +i; %>","<li>",'<i<% if(index < 3){ %> class="hot"<% } %>><%=index + 1%></i>',So.lib.checkAbv(1703,"DSP2_2")?'<a href="<%=data[rIndex].url%>" target="_blank" data-clk="<%=data[rIndex].clk%>" data-pos="<%=rIndex + 1%>" data-href="<%=data[rIndex].url%>"><%=data[rIndex].name%></a>':'<a href="<%=data[index].url%>" target="_blank" data-clk="<%=data[index].clk%>" data-pos="<%=index + 1%>" data-href="<%=data[index].url%>"><%=data[index].name%></a>',"</li>","<% } %>"," </ul>"," <% } %>"," </div>","</div>"];this.$LianmengAd.html(So.lib.template(t.join(""),{data:e,count:Math.floor(this.count/2)})),this.$LianmengAd.addClass("show"),window.NewsFlow&&NewsFlow.Tools.observer.publish("so.newsflow.flowHeightChange"),this.sendLog(this.asin),So.lib.log("lianmengAd",{type:"show",value:$("#no-result").length}),this.bindEvents();var n=this.$LianmengAd.find("li"),r=0;if(this.timerOn){var i=s();n.hover(function(){clearInterval(i)},function(){i=s()});function s(){return clearInterval(i),setInterval(function(){n.removeClass("on"),n.eq(r).addClass("on"),r/(n.length-1)===1?r=0:r++},2500)}}},bindEvents:function(){var e=this,t=0;$(e.$LianmengAd).on("mousedown","a",function(){t=+(new Date)}).on("mouseup","a",function(n){$(this).attr("href",e.macro($(this).attr("data-href"),n,t))}),$("a",e.$LianmengAd).click(function(n){So.lib.log("lianmengAd",{type:"click",datatype:$(this).data("pos"),value:$("#no-result").length});var r=$(this).data("clk");r&&e.sendLog(e.macro(r,n,t))})},macro:function(e,t,n){return e.replace(/__OFFSET_X__|__OFFSET_Y__|__EVENT_TIME_START__|__EVENT_TIME_END__/g,function(e){return{__OFFSET_X__:t.offsetX,__OFFSET_Y__:t.offsetY,__EVENT_TIME_START__:n,__EVENT_TIME_END__:+(new Date)}[e]})},sendLog:function(){return window.__img_right_bottom_log={},function(e){var t="log_"+ +(new Date),n=window.__img_right_bottom_log[t]=new Image;n.onload=n.onerror=function(){window.__img_right_alliance_log&&window.__img_right_bottom_log[t]&&(window.__img_right_bottom_log[t]=null,delete window.__img_right_bottom_log[t])},n.src=e+("&_r="+ +(new Date))}}(),setFixed:function(){var e=this;e.scrollRaf||(e.scrollRaf=window.requestAnimationFrame(function(){window.cancelAnimationFrame(e.scrollRaf),e.scrollRaf=null;var t=e.$LianmengAd.offset().top,n=93,r=e.$LianmengAd.find(".lianmeng-ad-inner");$(document).scrollTop()+$(window).height()>=t+n?r.hasClass("fixed")&&r.removeClass("fixed"):r.hasClass("fixed")||(r.addClass("fixed"),r.css({bottom:-(e.initHeight-n)+"px"}))}))}};e.initSdk()}}(),So.web.Lianmeng(),So.page.reload.push(So.web.Lianmeng),So.web.LianmengMiddle=function(){return function(){if(!So.lib.checkAbv(1888,"new_2")&&!So.lib.checkAbv(1888,"new_3")||!So.newsFlow||So.newsFlow.type!=="news")return;var e={url:"//api.so.lianmeng.360.cn/naviad",$LianmengAd:$("#lm-rightmiddle"),asin:"",count:So.lib.checkAbv(1888,"new_2")?12:5,$side:$("#side"),hasRequest:!1,scrollRaf:null,init:function(){var e=this;So.lib.log("lianmengAdMdInit",{type:"show",value:$("#no-result").length}),e.getData()},getData:function(){var e=this,t={ls:So.lib.checkAbv(1888,"new_2")?"s0acc493a9b":"s15ec493b98",npg:e.count,gn:1,l:1,idx:0,sid:So.comm.sid||So.comm.guid,haoid:So.lib.getUnMid(So.comm.md)};$.ajax({url:e.url,type:"get",dataType:"jsonp",data:t,jsonp:"_callback",success:function(t){if(t&&t.guess&&t.guess.length&&t.guess[0].sites&&t.guess[0].sites.length>1){var n=t.guess[0].sites;e.asin=t.asin;for(var r=0;r<n.length;r++)n[r].title=So.lib.cutStr(n[r].title,100);e.renderHtml(n)}},complete:function(){e.hasRequest=!0}})},renderHtml:function(e){if(So.lib.checkAbv(1888,"new_2"))var t=['<div class="lianmeng-ad-inner">','<div class="pos-relative">','<h3 class="c-title">\u731c\u4f60\u60f3\u770b</h3>','<span class="c-title-tag">\u5e7f\u544a</span>',"</div>",'<div class="lianmeng-ad-middle-box clearfix">',"<% for(var i = 0; i < 3; i++) { %>",'<ul class="lianmeng-ad-middle-list js-lianmeng-ad-list clearfix">',"<% for(var j = 0; j < 4; j++) { var index = j + i * 4; %>",'<li class="<% if(j === 3) { %>last-col<% } %> <% if(j === 0) { %>first-col<% } %>">','<a href="<%=data[index].url%>" data-clk="<%=data[index].clk%>" data-pos="<%=index + 1%>" data-href="<%=data[index].url%>" target="_blank"><img src="<%=data[index].pic%>" width="74" height="74"><span class="ad-mask"></span></a>','<p class="ad-txt"><a href="<%=data[index].url%>" data-clk="<%=data[index].clk%>" data-pos="<%=index + 1%>" data-href="<%=data[index].url%>" target="_blank"><%=data[index].name%></a></p></li>',"<% } %>"," </ul>"," <% } %>"," </div>","</div>"];else var t=['<div class="lianmeng-ad-inner">','<div class="pos-relative">','<h3 class="c-title">\u731c\u4f60\u60f3\u770b</h3>','<span class="c-title-tag">\u5e7f\u544a</span>',"</div>",'<div class="lianmeng-ad-middle-box clearfix">','<ul class="lianmeng-ad-middle-list js-lianmeng-ad-list">',"<% for(var i = 0; i < data.length; i++) {%>",'<li class="clearfix"><a href="<%=data[i].url%>"target="_blank" data-clk="<%=data[i].clk%>" data-pos="<%=i + 1%>" data-href="<%=data[i].url%>" class="ad-left"><img src="<%=data[i].pic%>" width="74" height="54"><span class="ad-mask"></span></a>','<p class="ad-right"><a href="<%=data[i].url%>" target="_blank" data-clk="<%=data[i].clk%>" data-pos="<%=i + 1%>" data-href="<%=data[i].url%>"><%=data[i].title%></a></p></li>',"<% } %>"," </ul>"," </div>","</div>"];this.$LianmengAd.html(So.lib.template(t.join(""),{data:e,count:Math.floor(this.count/2)})),this.$LianmengAd.addClass("show"),window.NewsFlow&&NewsFlow.Tools.observer.publish("so.newsflow.flowHeightChange"),this.sendLog(this.asin),So.lib.log("lianmengAdMd",{type:"show",value:$("#no-result").length}),this.bindEvents()},bindEvents:function(){var e=this,t=0;$(e.$LianmengAd).on("mousedown","a",function(){t=+(new Date)}).on("mouseup","a",function(n){$(this).attr("href",e.macro($(this).attr("data-href"),n,t))}),$("a",e.$LianmengAd).click(function(n){So.lib.log("lianmengAdMd",{type:"click",datatype:$(this).data("pos"),value:$("#no-result").length});var r=$(this).data("clk");r&&e.sendLog(e.macro(r,n,t))})},macro:function(e,t,n){return e.replace(/__OFFSET_X__|__OFFSET_Y__|__EVENT_TIME_START__|__EVENT_TIME_END__/g,function(e){return{__OFFSET_X__:t.offsetX,__OFFSET_Y__:t.offsetY,__EVENT_TIME_START__:n,__EVENT_TIME_END__:+(new Date)}[e]})},sendLog:function(){return window.__img_right_bottom_log={},function(e){var t="log_"+ +(new Date),n=window.__img_right_bottom_log[t]=new Image;n.onload=n.onerror=function(){window.__img_right_alliance_log&&window.__img_right_bottom_log[t]&&(window.__img_right_bottom_log[t]=null,delete window.__img_right_bottom_log[t])},n.src=e+("&_r="+ +(new Date))}}()};e.init()}}(),So.web.LianmengMiddle(),So.page.reload.push(So.web.LianmengMiddle),So.web._init=function(){return function(){function E(){for(var e=0;e<w.length;e++){var t=w[e],n=$(w[e]);if(n.attr("data-send-disp")=="1")continue;var r=t.getBoundingClientRect(),i=r.top,s=r.bottom;if(i===0&&s===0)continue;if(b-i>10){n.attr("data-send-disp","1");var o={type:n.attr("data-disp-comm")},u=n.data("disp-log");o=$.extend(o,u||{}),So.lib.log("ccb",o)}}}$("#tips-res-spite .open").toggle(function(){$(".result").removeClass("hide-spite"),$("#tips-res-spite span").html("\u90e8\u5206\u7ed3\u679c\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\u6216\u88ab\u6076\u610f\u7be1\u6539\u3001\u5b58\u5728\u865a\u5047\u8bc8\u9a97\u7b49\u3002"),$(this).html("\u9690\u85cf\u6b64\u7c7b\u7ed3\u679c")},function(){$(".result").addClass("hide-spite"),$("#tips-res-spite span").html("\u56e0\u90e8\u5206\u7ed3\u679c\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\u6216\u88ab\u6076\u610f\u7be1\u6539\u3001\u5b58\u5728\u865a\u5047\u8bc8\u9a97\u7b49\u539f\u56e0\uff0c\u5df2\u9690\u85cf\u3002"),$(this).html("\u4e86\u89e3\u98ce\u9669\uff0c\u663e\u793a\u6240\u6709\u7ed3\u679c")});var e=$(".cheat-tel-wrap"),t=e.length||0;t>0&&e.on("click",".res-comm-more, .res-comm-arrow",function(){var e=$(this),t=e.closest(".cheat-tel-wrap");e.hasClass("res-comm-arrow")?(t.find(".cheat-tel-all-data").hide(),t.find(".cheat-tel-inner").show()):(t.find(".cheat-tel-all-data").show(),t.find(".cheat-tel-inner").hide())});if($(".mse-qrcode").length>0){var n=$(".mse-qrcode-img");$(".js-mse-qr").on("mouseenter",function(){return n.fadeIn(),!1}),$("body").on("click",function(e){$(this).closest(".mse-qrcode").length==0&&n.fadeOut()})}var r=$("#soSafe"),i=r.find("dt"),s=r.find("dd"),o=r.find("dt div");i.toggle(function(){s.slideDown("fast"),r.addClass("open"),o.html("\u6536\u8d77")},function(){s.slideUp("fast"),r.removeClass("open"),o.html("\u5c55\u5f00")}),So.web.pdrLog=function(){var e=$("#so-pdr-guide"),t=$("#head_pdr_guide");t.length&&t.is(":visible")&&(e=t);if(!e)return;var n=$("a",e);if(!n)return;var r=[];for(var i=0;i<n.length;i++)n[i].offsetTop==0&&r.push(encodeURIComponent(n.eq(i).text()));return r.join("|")};var u=$("#so_top");if(u.length>0){var a,f,l="pdr",c=$("#so-pdr-guide").attr("data-ver");if(u.hasClass("scroll")){u.hasClass("has-top-ad")&&$.each(u.find(".so-pdr-bd a"),function(e,t){var n=$(t);n.attr("href",n.attr("href").replace(/(src=)([^&]*)/gi,"$1$2_fs"))});var h=$("#main").offset().top-$("#header").find(".inner").height();$(window).on("scroll.haosou",function(){f=$(window).scrollTop(),!a&&f>h?a=1:u.is(":hidden")&&a==1&&f<h&&(u.find("#so-pdr-guide").css({visibility:"visible"}),u.slideDown("fast"),So.lib.log(l,{type:"show",datatype:"scroll",q:So.comm.q,value:So.web.pdrLog()}))})}else So.lib.log(l,{type:"show",datatype:"top",q:So.comm.q,value:So.web.pdrLog()});var p=$("#so-pdr-guide").data("ext");p=So.lib.parseQuery(p);var d=[];$(".so-pdr-bd a").each(function(e,t){d.push($(t).text()+"@"+$(t).data("source"))}),So.lib.log("",{type:"pdr",v:c,eci:p.eci||"",nlpv:p.nlpv||"",value:d.join("|")},"","//s.qhupdate.com/sou/disp_rel.gif");var v="top";$("body").delegate(".so-pdr-bd a","mousedown.haosou",function(){if($(this).closest(".so_feedback_edit").length)return;if($(this).closest(".become-two-line").length||$(this).closest("#head_pdr_guide").length)v="head";So.lib.log(l,{type:"click",datatype:v,q:So.comm.q,value:So.web.pdrLog(),pos:$(this).index()+1,p1:$(this).position().top>=20?2:1});var e=So.lib.parseQuery($(this).data("ext"));So.lib.log("",{type:"pdr",v:c,eci:e.eci||"",nlpv:e.nlpv||"",pos:$(this).index()+1,word:$(this).text(),source:$(this).data("source")},"","//s.qhupdate.com/sou/click_rel.gif")})}(function(){var e=$("#tips-res-fold p"),t=$("#ac-unfold"),n=$("#warper");$("#container").attr("data-folding")=="1"&&$("#warper").addClass("folding hide-res-folding"),t.length>0&&e.on("click",function(){n.hasClass("hide-res-folding")?(e.html("\u6536\u8d77\u53ef\u80fd\u6709\u98ce\u9669\u7684\u7ed3\u679c<i></i>"),n.removeClass("hide-res-folding")):(e.html("\u6211\u5df2\u4e86\u89e3\u53ef\u80fd\u5b58\u5728\u7684\u98ce\u9669\uff0c\u5e76\u7ee7\u7eed\u5c55\u5f00\u5df2\u9690\u85cf\u7684\u5168\u90e8\u7ed3\u679c<i></i>"),n.addClass("hide-res-folding")),setTimeout(function(){var e={q:So.comm.q,src:So.comm.src,guid:So.comm.guid},t="fold";$("#res_news_flow").length&&(e={p2:So.newsFlow.source,type:$("#res_news_flow").is(":visible")?"flow-show":"result-show",datatype:So.newsFlow.type,p1:So.newsFlow.from},t="news-flow"),So.lib.log(t,e)},0)})})();var m=$("#no-result").length?!0:!1;($("#res_news_flow").length&&(!m||m&&!/msie (6|7|8)/gi.test(navigator.userAgent))||$("#mohe-nlp_user_lm").length)&&So.newsFlow.from!="items_greater_5"&&(_loader.add("freeze-sidebar","https://s.ssl.qhimg.com/static/25f9a3c4a231ba77/jqueryplus/freeze-sidebar.js"),_loader.add("freeze-side","https://s.ssl.qhimg.com/static/15b9e7f443949299/result/freeze-side.js"),_loader.use("freeze-sidebar,freeze-side",function(){})),$("#container").attr("data-newsflow")=="1"&&$("#warper").addClass("mod-news-flow show-news-flow");var g=So.lib.browser.isIE();g>0&&g<=10&&$('#main .result li.res-list h3 a[data-noref="1"],#mod-engs a').on("click",function(e){var t=$(this).attr("href");window.open(t,"_blank"),e.preventDefault()}),$('#mod-engs a[data-log="baidu"]').attr("data-s",So.web.bdLinkUrl),$('.icon-official:contains("\u5b98\u7f51")').on("click",function(){window.open("http://www.so.com/help/help_3_4.html?src=so_res_guanwang","_blank")});var y=$(window),b=y.height(),w=$("[data-disp-comm]");y.on("scroll.haosou",E),E(),$(document).one("click","#newsflow-toggle",function(){E()}),function(){function a(){if(r.length==0||i.length==0)return;var e=r[0].getBoundingClientRect(),s=t.height();s>e.top?(r.css({height:r.height()}),u=n[0].getBoundingClientRect().left,n.hasClass("fixed")&&(u+=1),i.css({position:"fixed","z-index":9,width:r.width(),left:u,top:s,"padding-top":14}),i.addClass("warnFixed")):(r.removeAttr("style"),i.removeAttr("style"),i.removeClass("warnFixed")),$(window).scrollTop()==0&&(r.removeAttr("style"),i.removeAttr("style"),i.removeClass("warnFixed"))}function f(){if(r.length==0||i.length==0||n.length==0)return;var e=r[0].getBoundingClientRect(),s=t.height();e.top<s&&i.css({top:s});var o=n[0].getBoundingClientRect().left;n.hasClass("fixed")&&(o+=1),Math.abs(u-o)>1&&i.css({left:o})}var e=$(window),t=$("#header"),n=$("#side_wrap"),r=$("#adwarnTip"),i=$("#adwarnTip .tip_holder"),s=$("#side .warning_custom, #side .warning_custom_special"),o=s.attr("data-t")||0,u=0;So.lib.observer.remove("onebox.adWarnTip"),So.lib.observer.subscribe("onebox.adWarnTip",function(e){if(r.length==0)return;i.length==0&&(i=$('<div class="tip_holder" />').appendTo(r));var t=[];$.each(i.find("p"),function(e,n){t.push($(n).attr("data-code"))}),t.indexOf(""+e.code)==-1&&$('<p data-code="'+e.code+'">'+e.warning+"</p>").appendTo(i),s.length>0&&e.code==o&&s.remove(),So.lib.log("boxwarntip",{type:"show",datatype:e.code})}),e.on("scroll.haosou",a),e.on("resize.haosou",a),a(),setInterval(f,50,!0)}();var S=$("#so_bd-ad");S.length&&S.hasClass("shengdan")&&(So.lib.log("bdAdShengdan",{type:"show"}),S.find("a").on("click",function(){So.lib.log("bdAdShengdan",{type:"click",datatype:$(this).data("type")})})),$("#page-feedback-entry, #feedback_top").on("click",function(){if(So.web.feedback){So.web.feedback.exit();return}_loader.remove("feedbackLoad"),_loader.add("feedbackLoad","https://s.ssl.qhimg.com/static/d4353d5ed593a7b7/dist/result/feedback.js"),_loader.use("require.2.1.11,feedbackLoad",function(){})}),$(".g-linkinfo .m").on("click",function(){var e=$(this).closest(".res-list"),t=e.find("h3.res-title a").attr("data-res"),n=t?JSON.parse(t):null;n&&(n.stp==""?So.lib.log("webcache",{type:"normal",value:e.find(".res-title a[data-mdurl]").attr("data-mdurl"),res_erro_32:e.find(".dead-link[data-erro=32]").length}):So.lib.log("webcache",{type:n.stp,value:e.find(".res-title a[data-mdurl]").attr("data-mdurl"),res_erro_32:e.find(".dead-link[data-erro=32]").length}))}),$(".g-linkinfo .g-linkinfo-a").length&&So.lib.log("linkinfo",{type:"show",value:$(".g-linkinfo .g-linkinfo-a").length}),$(".g-linkinfo .g-linkinfo-a").on("click",function(){So.lib.log("linkinfo",{type:"click"})}),$(".g-mohe .mh-link, .g-mohe .m").on("click",function(){So.lib.log("webcache",{type:"onbox",value:$(this).closest(".g-mohe").find(".title a[data-mdurl]").attr("data-mdurl"),res_erro_32:$(this).closest(".g-mohe").find(".dead-link[data-erro=32]").length})})}}(),So.web._init(),So.page.reload.push(So.web._init),So.lib.md5=function(){function e(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function t(e,t){return e<<t|e>>>32-t}function n(n,r,i,s,o,u){return e(t(e(e(r,n),e(s,u)),o),i)}function r(e,t,r,i,s,o,u){return n(t&r|~t&i,e,t,s,o,u)}function i(e,t,r,i,s,o,u){return n(t&i|r&~i,e,t,s,o,u)}function s(e,t,r,i,s,o,u){return n(t^r^i,e,t,s,o,u)}function o(e,t,r,i,s,o,u){return n(r^(t|~i),e,t,s,o,u)}function u(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var u,a,f,l,c,h=1732584193,p=-271733879,d=-1732584194,v=271733878;for(u=0;u<t.length;u+=16)a=h,f=p,l=d,c=v,h=
r(h,p,d,v,t[u],7,-680876936),v=r(v,h,p,d,t[u+1],12,-389564586),d=r(d,v,h,p,t[u+2],17,606105819),p=r(p,d,v,h,t[u+3],22,-1044525330),h=r(h,p,d,v,t[u+4],7,-176418897),v=r(v,h,p,d,t[u+5],12,1200080426),d=r(d,v,h,p,t[u+6],17,-1473231341),p=r(p,d,v,h,t[u+7],22,-45705983),h=r(h,p,d,v,t[u+8],7,1770035416),v=r(v,h,p,d,t[u+9],12,-1958414417),d=r(d,v,h,p,t[u+10],17,-42063),p=r(p,d,v,h,t[u+11],22,-1990404162),h=r(h,p,d,v,t[u+12],7,1804603682),v=r(v,h,p,d,t[u+13],12,-40341101),d=r(d,v,h,p,t[u+14],17,-1502002290),p=r(p,d,v,h,t[u+15],22,1236535329),h=i(h,p,d,v,t[u+1],5,-165796510),v=i(v,h,p,d,t[u+6],9,-1069501632),d=i(d,v,h,p,t[u+11],14,643717713),p=i(p,d,v,h,t[u],20,-373897302),h=i(h,p,d,v,t[u+5],5,-701558691),v=i(v,h,p,d,t[u+10],9,38016083),d=i(d,v,h,p,t[u+15],14,-660478335),p=i(p,d,v,h,t[u+4],20,-405537848),h=i(h,p,d,v,t[u+9],5,568446438),v=i(v,h,p,d,t[u+14],9,-1019803690),d=i(d,v,h,p,t[u+3],14,-187363961),p=i(p,d,v,h,t[u+8],20,1163531501),h=i(h,p,d,v,t[u+13],5,-1444681467),v=i(v,h,p,d,t[u+2],9,-51403784),d=i(d,v,h,p,t[u+7],14,1735328473),p=i(p,d,v,h,t[u+12],20,-1926607734),h=s(h,p,d,v,t[u+5],4,-378558),v=s(v,h,p,d,t[u+8],11,-2022574463),d=s(d,v,h,p,t[u+11],16,1839030562),p=s(p,d,v,h,t[u+14],23,-35309556),h=s(h,p,d,v,t[u+1],4,-1530992060),v=s(v,h,p,d,t[u+4],11,1272893353),d=s(d,v,h,p,t[u+7],16,-155497632),p=s(p,d,v,h,t[u+10],23,-1094730640),h=s(h,p,d,v,t[u+13],4,681279174),v=s(v,h,p,d,t[u],11,-358537222),d=s(d,v,h,p,t[u+3],16,-722521979),p=s(p,d,v,h,t[u+6],23,76029189),h=s(h,p,d,v,t[u+9],4,-640364487),v=s(v,h,p,d,t[u+12],11,-421815835),d=s(d,v,h,p,t[u+15],16,530742520),p=s(p,d,v,h,t[u+2],23,-995338651),h=o(h,p,d,v,t[u],6,-198630844),v=o(v,h,p,d,t[u+7],10,1126891415),d=o(d,v,h,p,t[u+14],15,-1416354905),p=o(p,d,v,h,t[u+5],21,-57434055),h=o(h,p,d,v,t[u+12],6,1700485571),v=o(v,h,p,d,t[u+3],10,-1894986606),d=o(d,v,h,p,t[u+10],15,-1051523),p=o(p,d,v,h,t[u+1],21,-2054922799),h=o(h,p,d,v,t[u+8],6,1873313359),v=o(v,h,p,d,t[u+15],10,-30611744),d=o(d,v,h,p,t[u+6],15,-1560198380),p=o(p,d,v,h,t[u+13],21,1309151649),h=o(h,p,d,v,t[u+4],6,-145523070),v=o(v,h,p,d,t[u+11],10,-1120210379),d=o(d,v,h,p,t[u+2],15,718787259),p=o(p,d,v,h,t[u+9],21,-343485551),h=e(h,a),p=e(p,f),d=e(d,l),v=e(v,c);return[h,p,d,v]}function a(e){var t,n="";for(t=0;t<e.length*32;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];n[(e.length>>2)-1]=undefined;for(t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<e.length*8;t+=8)n[t>>5]|=(e.charCodeAt(t/8)&255)<<t%32;return n}function l(e){return a(u(f(e),e.length*8))}function c(e,t){var n,r=f(e),i=[],s=[],o;i[15]=s[15]=undefined,r.length>16&&(r=u(r,e.length*8));for(n=0;n<16;n+=1)i[n]=r[n]^909522486,s[n]=r[n]^1549556828;return o=u(i.concat(f(t)),512+t.length*8),a(u(s.concat(o),640))}function h(e){var t="0123456789abcdef",n="",r,i;for(i=0;i<e.length;i+=1)r=e.charCodeAt(i),n+=t.charAt(r>>>4&15)+t.charAt(r&15);return n}function p(e){return unescape(encodeURIComponent(e))}function d(e){return l(p(e))}function v(e){return h(d(e))}function m(e,t){return c(p(e),p(t))}function g(e,t){return h(m(e,t))}return function(e,t,n){return t?n?m(t,e):g(t,e):n?d(e):v(e)}}(),So.web.ctrRichList=function(e){function t(e){var t=$(".video-game-rich-list");t.is(":visible")&&(t.hide(),So.lib.log("hideRichList",{datatype:t.attr("data-type"),from:t.attr("data-from"),type:e}))}So.lib.checkAbv(2043,"gw_br_b")&&(So.comm.hasLocalAdv?t("eso"):e&&t("mediav"))},So.web.ctrRichList(),So.page.reload.push(So.web.ctrRichList),So.web.frontContent=function(){return function(){var e="",t={url:"//query.rec.360.cn/gasucs/query_rec",$officialparent:null,delCount:50,cmsData:[],soLocalStorage:So.lib.soLocalStorage||{getItem:function(){},setItem:function(){}},init:function(){this.$officialparent=$("#main .result li:eq(0)"),this.$officialparent.length&&this.getData()},getData:function(){var t=this,n={src:"qr_front_content",ret_type:"jsonp",req:"kw",mid:So.comm.md,sid:So.comm.sid,guid:So.lib.cookie.get("__huid")||""};$.ajax({url:t.url,dataType:"jsonp",data:n,jsonp:"callback",jsonpCallback:"__query_rec",success:function(n){if(n&&n.length>3||n.length+So.comm.fc.words.length>3)e=n[0].ver||"",t.renderHtml(t.clearRepeat(n))}})},clearRepeat:function(e){var t=[],n;if(this.cmsData.length){var r=$.map(e,function(e){return e.kw});for(var i=0;i<this.cmsData.length;i++){var s=$.inArray(this.cmsData[i].text,r);s!=-1&&(e[s].kw=""),this.cmsData[i]={kw:this.cmsData[i].text,icon:this.cmsData[i].icon,src:"manual_content"}}e=this.cmsData.concat(e)}var o=this.soLocalStorage.getItem("frontContenDel")||JSON.stringify([]);o=JSON.parse(o);for(var u=0,a=e.length;u<a;u++){n=!1;for(var i=0,f=o.length;i<f;i++)if(e[u].kw==o[i]){n=!0;break}e[u].src||(e[u].src="front_content"),!n&&t.push(e[u])}return t},renderHtml:function(t){var n=['<div id="nav-others">',"<% if (So.comm.suggest_module.show_input) { %>",'<div class="nav-others-head">','<div class="logo">',"<span></span>","</div>",'<div class="input">','<form class="fc_form" action="//www.baidu.com/s" method="get" target="_blank">','<input type="text" name="wd" class="fc_input" value="" maxlength="100" autocomplete="off"><span><input type="submit" tabindex="3" value="\u767e\u5ea6\u4e00\u4e0b" class="fc_btn"></span>',"</form>","</div>","</div>","<% } %>",'<div class="nav-recommend">','<ul class="set-btn">','<li><a class="edit" href="javascript:;">\u7f16\u8f91</a></li>','<li><a class="close-nav-all" href="javascript:;">\u5173\u95ed</a></li>',"</ul>",'<a class="triangle-text set g-show" href="javascript:;"></a>','<a class="triangle-text finish" href="javascript:;"></a>','<span class="triangle-logo"></span>','<ul class="nav-text">',"<% for(var i = 0; i < data.length; i++) { if(data[i].kw){ %>","<li><span>",'<a href="/s?q=<%=encodeURIComponent(data[i].kw)%>&src=hao_isearch_lj&nlpv=<%=data[i].ver%>" target="_blank" <% if (data[i].icon){%>class="has-icon text"<%} else{%>class="text"<%}%> >',"<% if (data[i].icon){ %>",'<img src="<%=So.lib.getPicUrl(data[i].icon, "/dmsmty/15_15_")%>">',"<% } %>","<%=So.lib.escapeHTML(data[i].kw)%>",'</a><a class="close g-icon" href="javascript:;" data-kw="<%=So.lib.escapeHTML(data[i].kw)%>" title="\u5220\u9664"></a></span>',"</li>","<% }} %>","</ul>","</div>",'<p class="tips">\u4ee5\u4e0a\u5185\u5bb9\u7531360\u641c\u7d22\u667a\u80fd\u805a\u5408</p>',"</div>"];this.$officialparent.addClass("fc-recommend"),this.$officialparent.append(So.lib.template(n.join(""),{data:t})),So.lib.log("frontContent",{type:"show",nlpv:e,mid:So.lib.getUnMid(So.comm.md||So.lib.cookie.get("__md"))}),this.bindEvents()},bindEvents:function(){var t=$("#nav-others"),n=$(".fc_input",t);n.on("mouseenter",function(){$(this).addClass("hover")}).on("mouseleave",function(){$(this).removeClass("hover")}).on("focus",function(){$(this).addClass("focus")}).on("blur",function(){$(this).removeClass("focus")}),$(".fc_btn",t).on("click",function(){So.lib.log("frontContent",{type:"clickbtn",nlpv:e,mid:So.lib.getUnMid(So.comm.md||So.lib.cookie.get("__md"))})}),$("a.text",t).on("click",function(){So.lib.log("frontContent",{type:"click",value:$(this).text(),nlpv:e,mid:So.lib.getUnMid(So.comm.md||So.lib.cookie.get("__md"))})});var r=this,i=$(".set",t),s=$(".finish",t),o=$(".close",t),u=$(".set-btn",t),a=$(".edit",t),f=$(".close-nav-all",t),l=null,c=null,h=!1;i.on("mouseenter",function(){if(h)return;clearTimeout(c),l=setTimeout(function(){u.addClass("g-show")},200)}).on("mouseleave",function(){clearTimeout(l),c=setTimeout(function(){u.removeClass("g-show")},200),h=!1}),u.on("mouseenter",function(){clearTimeout(c),l=setTimeout(function(){u.addClass("g-show")},200)}).on("mouseleave",function(){clearTimeout(l),c=setTimeout(function(){u.removeClass("g-show")},200)}),a.on("click",function(){$(this).removeClass("g-show"),i.removeClass("g-show"),s.addClass("g-show"),o.addClass("g-show"),u.removeClass("g-show")}),s.on("click",function(e){$(this).removeClass("g-show"),i.addClass("g-show"),o.removeClass("g-show"),e.preventDefault(),h=!0}),f.on("click",function(e){var n=new Date;n.setFullYear(n.getFullYear()+1),So.lib.cookie.set("closeFC",0,{expires:n}),t.hide()}),o.on("click",function(){var e=+(new Date),n=$(this).attr("data-kw"),i=r.soLocalStorage.getItem("frontContenDel")||JSON.stringify([]);i=JSON.parse(i),i.length==r.delCount&&i.shift(),i.push(n),r.soLocalStorage.setItem("frontContenDel",JSON.stringify(i)),$(this).closest("li").remove(),$(".nav-text li",t).length||t.hide(),$.ajax({url:r.url,type:"get",dataType:"jsonp",jsonp:"callback",jsonpCallback:"__query_rec",data:{mid:So.comm.md,guid:So.lib.cookie.get("__huid"),src:"del",del_kw:n,oa:So.lib.md5(So.comm.md+n+e+"a%&k*b"),action:"del",_t:e}})})}};So.comm.suggest_module&&So.comm.suggest_module.show&&!So.lib.cookie.get("closeFC")&&(So.comm.suggest_module.words&&(t.cmsData=So.comm.suggest_module.words),t.init())}}(),So.web.frontContent(),So.page.reload.push(So.web.frontContent),So.web._mediavH=function(){return function(){function i(t){var n=[];for(var r=0,i=t.length;r<i;r++){var s=!1;for(var o=0,u=e.length;o<u;o++)if((t[r].title||t[r].desc).indexOf(e[o])>-1){s=!0;break}s||n.push(t[r])}return n}function s(e){return/\.(?:fenxi|nzwgs)\.com\/(?:.*?)\.gif/.test(e)?"https://imgx.mediav.com/rimg.jpg?img="+encodeURIComponent(e)+"&gcflag=1":e}function o(e,t){var n=$('<li class="res-mediav res-mediav-high" data-id="'+t+'" style="display:none"></li>');$("ul.result:last > li.res-list").eq(e).before(n);var r=$("ul.result:last > li").index($("li#newsflow-toggle"));$(".show-news-flow").length>0&&(e>=r||e==-1)&&n.addClass("referer-news-flow")}function u(e,t){var n=$(t);e.html(n),e.hasClass("referer-news-flow")?e.removeAttr("style"):e.show()}function a(e,n,r){var i=0;for(var s=0,o=e.length;s<o;s++)i+=e.eq(s).height();So.lib.log(t,{type:"show",value:i,datatype:n,p1:r,pn:So.comm.pn}),e.on("mousedown",function(){So.lib.log(t,{type:"click",value:i,datatype:n,pn:So.comm.pn})}),So.web.ctrRichList(t)}if(So.lib.checkAbv(1915,"duizhao_1"))return;var e=So.web.mediavBlackTitle;if(So.web.mediavInsertPos[2]=="PwuWYn"||So.web.mediavInsertPos[2]=="TZraJr")return;if(So.comm.is_middle_page=="1"||So.web.mediavInsertPos.length==0)return;var t="mediav-high",n='<div class="item item_img <%= showBtn != \'\' ? \'hasbtn\' : \'\'%>">                        <h3 class="res-mediav-title g-ellipsis">                            <a data-index="<%= index %>" title="<%= title %>" href="<%= curl %>" target="_blank" data-log="title-ad"><%= showTitle %></a>                        </h3>                        <a class="img" data-index="<%= index %>" href="<%= curl %>" target="_blank">                            <img data-log="img-ad" width="120" height="75" src="<%= img %>">                        </a>                        <a class="res-mediav-desc" data-index="<%= index %>" href="<%= curl %>" target="_blank">                            <div class="txt">                                <%= desc %>                            </div>                            <div class="res-mediav-showurl">                                <span class="gray">\u731c\u4f60\u559c\u6b22</span>                                <span style="color:#4E9C62"><%= src %></span>                                <span class="txt">\u5e7f\u544a</span>                            </div>                        </a>                        <a class="play" data-index="<%= index %>" href="<%= curl %>" target="_blank">                            <%= showBtn %>                        </a>                        <div class="clearfix"></div>                    </div>',r='<div class="item item_game">                            <h3 class="res-mediav-title g-ellipsis">                                <a data-index="<%= index %>" title="<%= title %>" href="<%= curl %>" target="_blank" data-log="title-ad"><%= showTitle %></a>                            </h3>                            <% for (var i = 0, len = dataList.length; i < len; i++) { %>                                <a class="list" data-index="<%= i %>" href="<%= dataList[i].curl %>" target="_blank">                                    <img data-log="img-ad" width="120" height="75" src="<%= dataList[i].img %>">                                    <div class="top top_<%= i + 1 %>"></div>                                    <div class="desc"><%= dataList[i].title %></div>                                    <div class="play"><%= dataList[i].showBtn %></div>                                </a>                            <% } %>                            <div class="res-mediav-showurl">                                <span class="gray">\u731c\u4f60\u559c\u6b22</span>                                <span style="color:#4E9C62"><%= src %></span>                                <span class="txt">\u5e7f\u544a</span>                            </div>                            <div class="clearfix"></div>                        </div>';_loader.use("jquery,mediav",function(){var e=So.web.mediavInsertPos,t=e[0],f=e[1],l=e[2];l=="PwuWYn"&&f==2&&(f=3),l=="TZraJr"?f==2?(o(2,l),o(4,l)):f==1&&o(4,l):o(t,l);var c=$('.res-mediav[data-id="'+l+'"]');c.length>0&&new MediavAds({$dom:c,itemWrap:".item",apiUrl:{http:"http://show.g.mediav.com/s",https:"https://show-g.mediav.com/s?scheme=https"},params:{djsrc:So.comm.src,showid:l||"",impct:f,reqtimes:1,mid:So.lib.getUnMid(So.comm.md),queryword:So.comm.q},timeout:5e3,successCallback:function(e){var t=[];e&&e.ads&&e.ads.length&&(t=i(e.ads));if(t.length>0){this.params.showid=="TZraJr"&&t.length<2&&So.lib.observer.publish("so.mediav_high_data");var o=[],f,l=t.length,c=t[0].dj_item_cate;if(["TZraJr","PwuWYn"].indexOf(this.params.showid)>-1&&(c==10||c==11))if(l>=3){var h=[];for(var p=0,d=t.length;p<d;p++){if(p==3)break;h.push({index:p,curl:t[p].curl,title:(t[p].title||t[p].desc).replace(/<\/?[^>]*>/g,""),showTitle:t[p].title||t[p].desc,img:s(t[p].img),src:t[p].src,desc:So.lib.escapeHTML(t[p].desc),showBtn:"\u5f00\u59cb\u6e38\u620f"})}var v={index:0,curl:t[0].curl,title:"\u6700\u70ed\u95e8\u6e38\u620f\u7cbe\u9009_\u4eba\u6c14\u7206\u68da\u7684\u597d\u6e38\u620f_\u62a2\u5148\u83b7\u5f97\u4e13\u5c5e\u798f\u5229",showTitle:"\u6700\u70ed\u95e8\u6e38\u620f\u7cbe\u9009_\u4eba\u6c14\u7206\u68da\u7684\u597d\u6e38\u620f_\u62a2\u5148\u83b7\u5f97\u4e13\u5c5e\u798f\u5229",img:s(t[0].img),src:t[0].src,desc:So.lib.escapeHTML(t[0].desc),dataList:h},m=So.lib.template(r,v);o.push(m);if(l==4){var m=So.lib.template(n,{index:1,curl:t[3].curl,title:(t[3].title||t[3].desc).replace(/<\/?[^>]*>/g,""),showTitle:t[3].title||t[3].desc,img:s(t[3].img),src:t[3].src,desc:So.lib.escapeHTML(t[3].desc),showBtn:"\u5f00\u59cb\u6e38\u620f"});o.push(m)}}else for(var p=0,d=t.length;p<d;p++){f=t[p];var m=So.lib.template(n,{index:p,curl:f.curl,title:(f.title||f.desc).replace(/<\/?[^>]*>/g,""),showTitle:f.title||f.desc,img:s(f.img),src:f.src,desc:So.lib.escapeHTML(f.desc),showBtn:"\u5f00\u59cb\u6e38\u620f"});o.push(m)}else if(["TZraJr","PwuWYn"].indexOf(this.params.showid)>-1&&(c==20||c==21))for(var p=0,d=t.length;p<d;p++){f=t[p];var m=So.lib.template(n,{index:p,curl:f.curl,title:(f.title||f.desc).replace(/<\/?[^>]*>/g,""),showTitle:f.title||f.desc,img:s(f.img),src:f.src,desc:So.lib.escapeHTML(f.desc),showBtn:"\u7acb\u5373\u9605\u8bfb"});o.push(m)}else for(var p=0,d=t.length;p<d;p++){f=t[p];var m=So.lib.template(n,{index:p,curl:f.curl,title:(f.title||f.desc).replace(/<\/?[^>]*>/g,""),showTitle:f.title||f.desc,img:s(f.img),src:f.src,desc:So.lib.escapeHTML(f.desc),showBtn:""});o.push(m)}var g=this;if(g.$dom.length>1)for(var y=0,b=g.$dom.length;y<b;y++)u(g.$dom.eq(y),o[y]);else u(g.$dom.eq(0),o.join(""));a(g.$dom,g.params.showid,t[0].title||"")}else So.lib.observer.publish("so.mediav_high_data")},errorCallback:function(e){So.lib.observer.publish("so.mediav_high_data")},noDataCallback:function(){So.lib.observer.publish("so.mediav_high_data")}})})}}(),So.web._mediavH(),So.page.reload.push(So.web._mediavH),So.web._mediavM=function(){return function(){function s(e){return/\.(?:fenxi|nzwgs)\.com\/(?:.*?)\.gif/.test(e)?"https://imgx.mediav.com/rimg.jpg?img="+encodeURIComponent(e)+"&gcflag=1":e}function o(e){for(var t=0,n=e.length;t<n;t++)e[t].img=s(e[t].img);return e}function u(e){var t={http:"http://show.g.mediav.com/s",https:"https://show-g.mediav.com/s?scheme=https"};for(var n=0,u=e.length;n<u;n++){var c=e[n],h=c[0],p=c[1],v=c[2];v=="HEl0Iq"?(f(1,v),f(3,v),f(5,v)):f(h,v);var m={djsrc:So.comm.src,refurl:location.href,showid:v||"",impct:p,reqtimes:1,mid:So.lib.getUnMid(So.comm.md),queryword:So.comm.q},g=$('.res-mediav[data-id="'+v+'"]');g.length>0&&new MediavAds({$dom:g,itemWrap:".item",apiUrl:t,params:m,timeout:5e3,successCallback:function(e){var t=[];e&&e.ads&&e.ads.length&&(t=a(e.ads));if(t.length>0){if(this.params.showid=="HEl0Iq"){var n=new Date(So.comm.t),u=n.getHours();u>=6&&u<23&&(t.length=1)}else t.length=1;for(var f=0,c=t.length;f<c;f++){var h=t[f],p=[];h.type==2&&h.dj_item_cate==1&&h.assets&&h.assets.length>0&&(p=h.assets||[],p=o(p));var v=So.lib.template(i,{index:f,curl:h.curl,title:h.title||h.desc,showTitle:So.lib.escapeHTML(So.lib.cutStr(h.title||h.desc,r)),img:s(h.img),src:h.src,desc:So.lib.escapeHTML(h.desc),imageList:p});l(this.$dom.eq(f),v,h,!0)}d(this.$dom,this.params.showid,t[0].title||"")}}})}}function a(t){var n=[];for(var r=0,i=t.length;r<i;r++){var s=!1;for(var o=0,u=e.length;o<u;o++)if((t[r].title||t[r].desc).indexOf(e[o])>-1){s=!0;break}s||n.push(t[r])}return n}function f(e,t){var n=$('<li class="res-mediav res-mediav-middle" data-id="'+t+'" style="display:none"></li>');e==-1?$("ul.result:last > li.res-list:last").after(n):$("ul.result:last > li.res-list").eq(e).after(n);var r=$("ul.result:last > li").index($("li#newsflow-toggle"));$(".show-news-flow").length>0&&(e>=r||e==-1)&&n.addClass("referer-news-flow")}function l(e,t,n,r){var i=$(t);e.html(i),e.hasClass("referer-news-flow")?e.removeAttr("style"):e.show(),r&&c(i,n)}function c(e,t){var n,r=e.find("div.close"),i=e.find("div.close-list");e.on("mouseenter","div.close",function(e){clearTimeout(n),r.addClass("hover"),i.show()}).on("mouseleave","div.close",function(e){clearTimeout(n),n=setTimeout(function(){r.removeClass("hover")},200),i.hide()}).on("click",".close-list a",function(n){var r=t.clstk&&t.clstk[0]||"",i=$(n.target);r&&p(h(r,i.attr("data-val"),i.text())),e.slideUp(100,function(){e.remove()})})}function h(e,t,n){return e.replace(/__DISLIKE_RULE_ID__|__DISLIKE_TAG__/g,function(e){return{__DISLIKE_RULE_ID__:t,__DISLIKE_TAG__:n||"\u4e0d\u611f\u5174\u8da3"}[e]})}function p(e){if(!e)return;e=e.split("||"),window.sadLog=window.sadLog||{};var t;for(var n=0,r=e.length;n<r;n++)t="log_"+ +(new Date),sadLog[t]=new Image,sadLog[t].onload=sadLog[t].onerror=function(){delete sadLog[t]},sadLog[t].src=e[n]}function d(e,t,r){var i=0;for(var s=0,o=e.length;s<o;s++)i+=e.eq(s).height();So.lib.log(n,{type:"show",value:i,datatype:t,p1:r,pn:So.comm.pn}),e.on("mousedown","a",function(){So.lib.log(n,{type:"click",value:i,datatype:t,pn:So.comm.pn})}),So.web.ctrRichList(n)}if(So.lib.checkAbv(1915,"duizhao_1"))return;var e=So.web.mediavBlackTitle;if(So.comm.is_middle_page=="1"||So.web.mediavMiddle.length==0)return;var t="DPe9gr",n="mediav-medium",r=So.lib.checkAbv(1112,"UI_2")||So.lib.checkAbv(1112,"UI_3")?48:60,i='<div class="item item_img">                        <h3 class="res-mediav-title">                            <a data-index="<%= index %>" title="<%= title %>" href="<%= curl %>" target="_blank" data-log="title-ad"><%= showTitle %></a>                        </h3>                        <% if (imageList.length > 0) { %>                            <div class="res-mediav-imaglist">                            <% for (var i = 0, len = imageList.length; i < len; i++) { %>                                <a class="img <%= i == 3 ? \'last\' : \'\'%>" data-type="img" data-index="<%= index %>" href="<%= imageList[i].curl %>" target="_blank">                                    <img data-log="many-img-ad" width="120" height="120" src="<%= imageList[i].img %>">                                    <% if (imageList[i].desc) { %>                                        <p><%= imageList[i].desc %></p>                                    <% } %>                                </a>                            <% } %>                            </div>                            <div class="res-mediav-showurl">                                <span class="gray">\u731c\u4f60\u559c\u6b22</span>                                <span style="color:#4E9C62"><%= src %></span>                                <span class="txt">\u5e7f\u544a</span>                            </div>                        <% } else { %>                            <a class="img" data-index="<%= index %>" href="<%= curl %>" target="_blank">                                <img data-log="img-ad" width="120" height="75" src="<%= img %>">                            </a>                            <a class="res-mediav-desc" data-index="<%= index %>" href="<%= curl %>" target="_blank">                                <div class="txt">                                    <%= desc %>                                </div>                                <div class="res-mediav-showurl">                                    <span class="gray">\u731c\u4f60\u559c\u6b22</span>                                    <span style="color:#4E9C62"><%= src %></span>                                    <span class="txt">\u5e7f\u544a</span>                                </div>                            </a>                        <% } %>                        <div class="clearfix"></div>                        <div class="close">                            <div class="close-list">                                <div class="wrap">                                    <i></i>                                    <a href="javascript:;" data-val="5">\u4e0d\u611f\u5174\u8da3</a>                                    <a href="javascript:;" data-val="1">\u5185\u5bb9\u4e0d\u5b9c</a>                                    <a href="javascript:;" data-val="4">\u906e\u6321\u5e72\u6270</a>                                    <a href="javascript:;" data-val="2">\u5c4f\u853d\u6b64\u7c7b</a>                                </div>                            </div>                        </div>                    </div>';_loader.use("jquery,mediav",function(){var e=So.web.mediavMiddle,n=So.web.mediavInsertPos[2]||"",r=[],i=[];for(var s=0,o=e.length;s<o;s++)$.inArray(n,["TZraJr"])>-1&&$.inArray(e[s][2],[t])>-1?i.push(e[s]):$.inArray(n,["PwuWYn"])>-1&&$.inArray(e[s][2],["POOhUi",t])>-1||r.push(e[s]);u(r),So.lib.observer.subscribe("so.mediav_high_data",function(){u(i)}),So.page.unload.push(function(){So.lib.observer.remove("so.mediav_high_data")})})}}(),So.web._mediavM(),So.page.reload.push(So.web._mediavM),So.web._mediavR=function(){return function(){function f(){e.on("mouseenter",".inner_left a, .inner_right a",function(e){var t=$(this);u=t.data("index"),clearTimeout(a),c()}),e.on("mouseleave",".inner_left a, .inner_right a",function(e){clearTimeout(a),l()}),l()}function l(){a=setTimeout(function(){++u==r&&(u=0),c(),l()},2e3,!0)}function c(){e.find(".inner_left .item").hide(),e.find(".inner_left .item").eq(u).show(),e.find(".inner_right .item.curr").removeClass("curr"),e.find(".inner_right .item").eq(u).addClass("curr")}function h(e){return/\.(?:fenxi|nzwgs)\.com\/(?:.*?)\.gif/.test(e)?"https://imgx.mediav.com/rimg.jpg?img="+encodeURIComponent(e)+"&gcflag=1":e}function p(e,t,n){return e.replace(/__DISLIKE_RULE_ID__|__DISLIKE_TAG__/g,function(e){return{__DISLIKE_RULE_ID__:t,__DISLIKE_TAG__:n||"\u4e0d\u611f\u5174\u8da3"}[e]})}function d(e){if(!e)return;e=e.split("||"),window.sadLog=window.sadLog||{};var t;for(var n=0,r=e.length;n<r;n++)t="log_"+ +(new Date),sadLog[t]=new Image,sadLog[t].onload=sadLog[t].onerror=function(){delete sadLog[t]},sadLog[t].src=e[n]}function v(e,t){var n=0;for(var r=0,s=e.length;r<s;r++)n+=e.eq(r).height();So.lib.log(i,{type:"show",datatype:t,value:n,pn:So.comm.pn}),e.on("mousedown","a",function(){So.lib.log(i,{type:"click",datatype:t,value:n,pn:So.comm.pn})})}if(So.lib.checkAbv(1915,"duizhao_1"))return;var e=$(".res-mediav-right"),t=$("#no-result").length?$("#no-result"):$("#main"),n=$("#side"),r=0,i="mediav-right";if(e.length==0)return;if(n.length==0||t.height()-n.height()<100&&!$("#no-result").length)return;So.web.mediavRight=[0,4,"E7FxdS"];var s={http:"http://show.3.mediav.com/s",https:"https://show-3.mediav.com/s?scheme=https"},o='<div class="inner" style="<%= imageList.length == 1 ? \'width:173px\' : \'\'%>">                        <div class="inner_left">                            <% for (var i = 0, len = imageList.length; i < len; i++) { %>                            <div class="item item_<%= i + 1 %>" style="display:<%= i == 0 ? \'\' : \'none\'%>">                                <a data-index="<%= i %>" href="<%= imageList[i].curl %>" target="_blank">                                    <img data-log="img-ad" width="173" height="173" src="<%= imageList[i].img %>">                                    <p><%= imageList[i].desc %></p>                                    <span>\u53bb\u770b\u770b</span>                                </a>                            </div>                            <% } %>                        </div>                        <% if (imageList.length > 1) { %>                        <div class="inner_right">                            <% for (var i = 0, len = imageList.length; i < len; i++) { %>                            <div class="item item_<%= i + 1 %> <%= i == 0 ? \'curr\' : \'\' %>">                                <a data-index="<%= i %>" href="<%= imageList[i].curl %>" target="_blank">                                    <img data-log="simg" width="81" height="81" src="<%= imageList[i].img %>">                                </a>                            </div>                            <% } %>                        </div>                        <% } %>                        <div class="tag"></div>                    </div>';_loader.use("jquery,mediav",function(){var t=So.web.mediavRight,n=t[0],i=t[1],u=t[2];new MediavAds({$dom:e,itemWrap:".item",apiUrl:s,params:{djsrc:So.comm.src,refurl:location.href,showid:u||"",impct:i,reqtimes:1,mid:So.lib.getUnMid(So.comm.md)},timeout:5e3,successCallback:function(e){if(e&&e.ads&&e.ads.length>=1){var t=[],n,i=[];for(var s=0,u=e.ads.length;s<u;s++){if(s==4)break;n=e.ads[s],i.push({index:s,curl:n.curl,title:n.title,desc:So.lib.escapeHTML(n.desc),img:h(n.img),src:n.src})}var a=So.lib.template(o,{imageList:i});t.push(a),r=i.length;var l=$(t.join(""));this.$dom.html(l),this.$dom.show(),v(this.$dom,this.params.showid),r>1&&f()}}})});var u=0,a}}(),So.web._mediavR(),So.page.reload.push(So.web._mediavR),So.web._mediavN=function(){return function(){function a(e){return/\.(?:fenxi|nzwgs)\.com\/(?:.*?)\.gif/.test(e)?"https://imgx.mediav.com/rimg.jpg?img="+encodeURIComponent(e)+"&gcflag=1":e}function f(e){var n=[];for(var r=0,i=e.length;r<i;r++){var s=!1;for(var o=0,u=t.length;o<u;o++)if((e[r].title||e[r].desc).indexOf(t[o])>-1){s=!0;break}s||n.push(e[r])}return n}function l(e){if(e&&e.length)for(var t=0,n=e.length;t<n;t++)e[t].img?e[t].img=a(e[t].img):e[t]=a(e[t]);return e}function c(e){if(!window.soLib||!window.soLib.Biz)return;var t=$("#so-pdr-guide .so-pdr-bd a").eq(0).text(),r=t?"so, mediavg":"mediavg";s=t||So.comm.q;if(e=="TZraJr"){var i="sorank1";if(So.lib.checkAbv(1972,"gaoshang_2")){var u=So.web.ads_extend_query;r=u?"so, mediavg":"mediavg",s=u||So.comm.q,i="sorank1_2"}else So.lib.checkAbv(1972,"gaoshang_1")&&(i="sorank1_1")}else var i="sorank0";e=="PwuWYn"?n==2?(h(0,e,0),h(0,e,1)):n==1&&h(0,e):n==2?(h(1,e),h(3,e)):n==1&&h(1,e);var c=$(".res-mediav");if(c.length>0){var v={adTypes:r,originQuery:So.comm.q,request:{params:{biz_q:s,biz_so_id:i,biz_num:n,biz_mg_id:e,biz_djsrc:So.comm.src,biz_pq:So.comm.q,biz_abv:So.comm.oabv}},monitor:{pro:"so",pid:"search",mod:"mediav-high"}},m=new soLib.Biz(v);m.getData().then(function(t){if(t&&t.length>0){t=f(t);for(var n=0;n<t.length;n++){var r,i=t[n];i.date=So.lib.formatTime(new Date),i.showUrl&&(i.showUrl=i.showUrl.split("/")[2]),i.showTitle=i.title,i.title=i.title.replace(/<\/?[^>]*>/g,""),i.imgs&&i.imgs.length||i.assets&&i.assets.length?(r="so-img3",i.imgs=l(i.imgs),i.assets=l(i.assets)):i.img?(r="so-img1",i.oldimg=i.img,i.img=a(i.img)):r="so-text",i.type==="mediavg"&&(r="mediav-high"),m.render(o[n],[i],function(){p($(o[n].container),!1),d($(o[n].container),e,i,r,s)})}}})}}function h(e,t,n){typeof n=="undefined"&&(n=e);var r=$('<li class="res-mediav res-mediav-high" id="'+t+"_"+n+'" style="display:none" data-pos="'+n+'"></li>');o.push({container:"#"+t+"_"+n,template:u,img:{width:123,height:82,format:"dmsmty"},monitor:{mod:"mediav-high-"+n}});var i=$("ul.result:last > li").index($("li#newsflow-toggle"));$(".show-news-flow").length>0&&(e>=i||e==-1)&&r.addClass("referer-news-flow"),$("ul.result:last > li.res-list").eq(e).before(r)}function p(e){e.hasClass("referer-news-flow")?e.removeAttr("style"):e.show()}function d(e,t,n,r,i){var s=0,o=$("#m-spread-left #e_idea_pp").children("li").length||0;for(var u=0,a=e.length;u<a;u++)s+=e.eq(u).height();So.lib.log(r,{type:"show",value:s,datatype:t,p1:n.title,p2:i,p3:n.oldimg,url:n.showUrl,pn:So.comm.pn,showpos:t=="PwuWYn"?o+e.data("pos")+1:""}),e.on("mousedown",function(){So.lib.log(r,{type:"click",value:s,datatype:t,p3:n.img,url:n.showUrl,pn:So.comm.pn,showpos:t=="PwuWYn"?o+e.data("pos")+1:""})}),So.web.ctrRichList(r)}function v(e,t){var n="//api.ssl.so.com/query_ads.html?ovector=1&from=1",i={kw:t.query,sokw:So.comm.q,adkw:s,adtxt:t.title,adsite:t.showUrl};i.kw?$.ajax({url:n,type:"get",dataType:"jsonp",crossDomain:!0,data:i,success:function(n){if(n&&n.imgs){var i="https://"+n.imgs[0].https+"/"+n.imgs[0].imgkey;t.img=i,t.oldimg=i,m(e,t,i),d(e,r,t,"so-imgps",s)}else d(e,r,t,"so-text",s)}}):d(e,r,t,"so-text",s)}function m(e,t,n){var r='<a class="img" href="'+t.url+'" target="_blank"><img src="'+n+'" class="so-biz-text-img__img" width="123" height="82"/></a>';e.find(".res-mediav-title").after(r),e.find(".res-mediav-desc").removeClass("no-img"),e.unbind("mousedown")}if(So.lib.checkAbv(1915,"duizhao_1"))return;var e=So.web.mediavInsertPos,t=So.web.mediavBlackTitle,n=e[1],r=e[2],i=e[3],s;if(So.comm.is_middle_page=="1"||So.web.mediavInsertPos.length==0)return;if(i==0&&r=="TZraJr"||r=="PwuWYn"){var o=[];if(So.lib.checkAbv(2058,"sorank_2"))var u='<div class="item item_new_img" {$props}>                                <h3 class="res-mediav-title g-ellipsis">                                    <a title="{$title}" href="{$url}" target="_blank" data-log="title-ad">{$showTitle}</a>                                </h3>                                {if($imgs && $imgs.length || $assets && $assets.length)}                                    {if($desc)}                                        <div class="res-mediav-txt">{$desc}</div>                                    {/if}                                    {if($imgs && $imgs.length)}                                        <div class="res-mediav-imaglist">                                            {for (var i = 0; i < $imgs.length; i++)}                                                {if(i===3)}                                                    <a href="{$url}" {$aProps} class="img last" target="_blank">                                                        <img src="{$imgs[i]}" {$imgProps} width="123" height="82"/>                                                    </a>                                                {else}                                                    <a href="{$url}" {$aProps} class="img" target="_blank">                                                        <img src="{$imgs[i]}" {$imgProps} width="123" height="82"/>                                                    </a>                                                {/if}                                            {/for}                                        </div>                                    {else}                                        <div class="leftside-3t res-mediav-imaglist">                                            {for(var i = 0; i <= 3; i++)}                                                {if(i === 3)}                                                    <a href="{$assets[i].curl}" {$aProps} class="img leftside-img last" target="_blank">                                                        <img src="{$assets[i].img}" {$imgProps} width="123" height="82">                                                    </a>                                                {else}                                                    <a href="{$assets[i].curl}" {$aProps} class="img leftside-img" target="_blank">                                                        <img src="{$assets[i].img}" {$imgProps} width="123" height="82">                                                    </a>                                                {/if}                                            {/for}                                        </div>                                    {/if}                                    {if($showUrl)}                                        <div class="res-mediav-showurl"><span style="color:#4E9C62">{$showUrl} - {$date}</span><span class="txt">\u5e7f\u544a</span></div>                                    {else}                                        <div class="res-mediav-showurl"><span style="color:#4E9C62">{$date}</span><span class="txt">\u5e7f\u544a</span></div>                                    {/if}                                {elseif($img)}                                    <a class="img" href="{$url}" target="_blank">                                        <img src="{$img}" class="so-biz-text-img__img" {$imgProps} width="123" height="82"/>                                    </a>                                    <a class="res-mediav-desc" href="{$url}" target="_blank">                                        <div class="txt">{$desc}</div>                                        {if($showUrl)}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$showUrl} - {$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {else}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {/if}                                    </a>                                {else}                                    <a class="res-mediav-desc no-img" href="{$url}" target="_blank">                                        <div class="txt">{$desc}</div>                                        {if($showUrl)}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$showUrl} - {$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {else}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {/if}                                    </a>                                {/if}                                <div class="clearfix"></div>                            </div>'
;else var u='<div class="item item_new_img" {$props}>                                <h3 class="res-mediav-title g-ellipsis">                                    <a title="{$title}" href="{$url}" target="_blank" data-log="title-ad">{$showTitle}</a>                                </h3>                                {if($imgs && $imgs.length || $assets && $assets.length)}                                    {if($desc)}                                        <div class="res-mediav-txt">{$desc}</div>                                    {/if}                                    {if($imgs && $imgs.length)}                                        <div class="res-mediav-imaglist">                                            {for (var i = 0; i < $imgs.length; i++)}                                                {if(i===3)}                                                    <a href="{$url}" {$aProps} class="img last" target="_blank">                                                        <img src="{$imgs[i]}" {$imgProps} width="123" height="82"/>                                                    </a>                                                {else}                                                    <a href="{$url}" {$aProps} class="img" target="_blank">                                                        <img src="{$imgs[i]}" {$imgProps} width="123" height="82"/>                                                    </a>                                                {/if}                                            {/for}                                        </div>                                    {else}                                        <div class="leftside-3t res-mediav-imaglist">                                            {for(var i = 0; i <= 3; i++)}                                                {if(i === 3)}                                                    <a href="{$assets[i].curl}" {$aProps} class="img leftside-img last" target="_blank">                                                        <img src="{$assets[i].img}" {$imgProps} width="123" height="82">                                                    </a>                                                {else}                                                    <a href="{$assets[i].curl}" {$aProps} class="img leftside-img" target="_blank">                                                        <img src="{$assets[i].img}" {$imgProps} width="123" height="82">                                                    </a>                                                {/if}                                            {/for}                                        </div>                                    {/if}                                    {if($showUrl)}                                        <div class="res-mediav-showurl"><span style="color:#4E9C62">{$showUrl} - {$date}</span><span class="txt">\u5e7f\u544a</span></div>                                    {else}                                        <div class="res-mediav-showurl"><span style="color:#4E9C62">{$date}</span><span class="txt">\u5e7f\u544a</span></div>                                    {/if}                                {elseif($img)}                                    <a class="img" href="{$url}" target="_blank">                                        <img src="{$img}" class="so-biz-text-img__img" {$imgProps} width="123" height="82"/>                                    </a>                                    <div class="res-mediav-desc">                                        <div class="txt">{$desc}</div>                                        {if($showUrl)}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$showUrl} - {$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {else}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {/if}                                    </div>                                {else}                                    <div class="res-mediav-desc no-img">                                        <div class="txt">{$desc}</div>                                        {if($showUrl)}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$showUrl} - {$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {else}                                            <div class="res-mediav-showurl"><span style="color:#4E9C62">{$date}</span><span class="txt">\u5e7f\u544a</span></div>                                        {/if}                                    </div>                                {/if}                                <div class="clearfix"></div>                            </div>';_loader.use("solib-polyfill-sdk,solib-biz-sdk",function(){c(r)})}}}(),So.web._mediavN(),So.page.reload.push(So.web._mediavN),function(){function e(){So.web.activityController={activityList:[{moduleName:"ldbg-jubensha-game",checker:function(){_loader.remove("ldbg-jubensha-game-checker"),_loader.add("ldbg-jubensha-game-checker","https://s.ssl.qhimg.com/static/a7b6896b4ed9c518/result/activities/ldbg-jubensha-game/checker.js"),_loader.use("ldbg-jubensha-game-checker",function(){})},runner:function(){_loader.remove("ldbg-jubensha-game-runner"),_loader.add("ldbg-jubensha-game-runner","https://s.ssl.qhimg.com/static/7e8dc328188d9d5b/dist/result/ldbg-jubensha-game.js"),_loader.use("ldbg-jubensha-game-runner",function(){})},quit:function(){_loader.remove("ldbg-jubensha-game-quit"),_loader.add("ldbg-jubensha-game-quit","https://s.ssl.qhimg.com/static/6ec25f4dea0c44d4/result/activities/ldbg-jubensha-game/quit.js"),_loader.use("ldbg-jubensha-game-quit",function(){})},checkResult:{status:"pending",result:{}}},{moduleName:"hulita-jubensha-game",checker:function(){_loader.remove("hulita-jubensha-game-checker"),_loader.add("hulita-jubensha-game-checker","https://s.ssl.qhimg.com/static/48a10c54db9e0dcc/result/activities/hulita-jubensha-game/checker.js"),_loader.use("hulita-jubensha-game-checker",function(){})},runner:function(){_loader.remove("hulita-jubensha-game-runner"),_loader.add("hulita-jubensha-game-runner","https://s.ssl.qhimg.com/static/ad603c0a9ca17945/dist/result/hulita-jubensha-game.js"),_loader.use("hulita-jubensha-game-runner",function(){})},quit:function(){_loader.remove("hulita-jubensha-game-quit"),_loader.add("hulita-jubensha-game-quit","https://s.ssl.qhimg.com/static/68370fe504787c27/result/activities/hulita-jubensha-game/quit.js"),_loader.use("hulita-jubensha-game-quit",function(){})},checkResult:{status:"pending",result:{}}}],dataCache:{},setDataCache:function(e,t,n){this.dataCache[e]||(this.dataCache[e]={}),this.dataCache[e][t]=n},loadActivity:function(e,t){for(var n=0;n<this.activityList.length;n++)this.activityList[n].moduleName==e?this.activityList[n].runner():t&&this.activityList[n].quit()},checkResolver:function(e){var t=0;for(var n=0;n<this.activityList.length;n++){var r=this.activityList[n];r.moduleName==e.moduleName&&(r.checkResult.status="fullfill",r.checkResult.result=e),r.checkResult.status=="fullfill"&&t++}if(t==this.activityList.length){for(var n=0;n<this.activityList.length;n++){var i=this.activityList[n].checkResult;if(i.result.isHit&&i.result.status==2){this.loadActivity(this.activityList[n].moduleName,!0);return}}for(var n=0;n<this.activityList.length;n++){var i=this.activityList[n].checkResult;if(i.result.isHit&&i.result.status==1){this.loadActivity(this.activityList[n].moduleName);return}}for(var n=0;n<this.activityList.length;n++){var i=this.activityList[n].checkResult;if(i.result.isHit){this.loadActivity(this.activityList[n].moduleName);return}}}},run:function(){if($.browser.msie&&parseFloat($.browser.version)<11)return;if(So.comm.hasEgg)return;if(So.comm.isActivityBlack)return;if(So.comm.isCtrl!=0)return;for(var e=0;e<this.activityList.length;e++)this.activityList[e].checker()}},So.web.activityController.run()}e(),So.page.reload.push(e)}();