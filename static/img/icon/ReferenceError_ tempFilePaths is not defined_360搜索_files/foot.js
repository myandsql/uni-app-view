(function(){function r(r){var i=$("#outer"),s=r.offset();t&&t.remove(),t=null,t=$(So.lib.template(n,{data:r.data("info")})),i.append(t),t.css({top:s.top+r.height()+5,left:s.left+ -10}).on("mouseenter",function(){clearTimeout(e)}).on("mouseleave",function(){clearTimeout(e),t.fadeOut(200,function(){t&&t.remove(),t=null})}),t.on("mousedown","a",function(){var e=$(this);So.lib.log("renzheng",{type:"click",url:e.data("mdurl")||e.attr("href"),datatype:e.closest(".so_icp_pop").data("v")})})}var e="",t,n=['<dl class="so_icp_pop so_icp_v_<%= data.v %>" data-v="<%= data.v %>" data-pos="<%= data.pos %>">',"	<dd>","		<div>\u6c34\u6ef4\u4fe1\u7528\u4e3a\u60a8\u68c0\u6d4b\u8be5\u7f51\u7ad9\u4e3b\u4f53\u4fe1\u606f</div>",'		<div class="name">\u4e3b\u4f53\uff1a<%= data.name %></div>',"       <% if (data.v == 1 || data.v == 2 || data.v == 4) { %>",'		<div style="margin-top:5px">','           <span class="icon_pass"></span>','           <span class="pass">\u5df2\u6838\u9a8c\u767b\u8bb0\u4fe1\u606f</span>',"           <% if (data.v == 2) { %>",'           <span class="icon_pass"></span>','           <span class="pass">\u5df2\u7ecf\u63d0\u4ea4\u5b88\u4fe1\u7ecf\u8425\u627f\u8bfa\u4e66</span>',"           <% } %>","       </div>","       <% } %>","	</dd>","	<dt>",'       <a href="<%= data.link %>" data-mdurl="<%= data.url %>" target="_blank" class="detail">\u8be6\u60c5 &gt;</a>',"       <span>\u6c34\u6ef4\u4fe1\u7528\u00ae\ufe0f</span>",'       <strong><%= ["\u7acb\u4fe1", "\u5b88\u4fe1\u627f\u8bfa", "\u5b9e\u540d", "\u54c1\u724c"][data.v - 1] %>\u4f01\u4e1a</strong>',"   </dt>","</dl>"].join("");$("body").on("mouseenter",".so_icp",function(){var n=$(this),i=n.data("info"),s=i.pos,o=t&&t.data("pos");s!=o&&r(n),clearTimeout(e),e=setTimeout(function(){t&&t.fadeIn(100),So.lib.log("renzheng",{type:"showpop",datatype:i.v,value:i.web_name})},300,!0)}).on("mouseleave",".so_icp",function(){clearTimeout(e),e=setTimeout(function(){t&&t.fadeOut(100,function(){t&&t.remove(),t=null})},300,!0)})})(),function(){var e=$("#adv-search"),t=$(".adv-search-btn"),n=e.find("[data-type=time-range]"),r=$("#head .form"),i="so-adv",s=t.attr("data-val"),o=function(){e.hide(),t.removeClass("hover")},u={init:function(){var e=this;e.searchItem(),e.event()},event:function(){var n;$(".adv-search-wrap").hoverDelay({hoverEvent:function(){e.show(),t.addClass("hover")},outEvent:function(){o()}})},searchItem:function(){e.on("click","a",function(e){var n=$(this).attr("data-val");n==t.attr("data-val")?o():(r.append('<input type="hidden" name="adv_t" value="'+n+'" />'),setTimeout(function(){r.submit()},100))})}};u.init()}(),So.web._richsum=function(){return function(){function h(){if(!So.lib.checkAbv(1653,"1")&&!So.lib.checkAbv(1653,"2")&&So.comm.pn==1&&$(".res-rich.so-rich-doc").length&&(So.comm.monitor.end==0||!So.comm.monitor.end)){var e=function(e){if(e.data&&e.data.length){So.lib.log("doc_rec",{type:"show",datatype:0});var t=e.data,n=[];for(var r=0;r<t.length;r++)if(t[r].UploadTimeTerm&&t[r].WkUrl&&t[r].TitleTerm){var i=t[r],s=new Date(parseInt(i.UploadTimeTerm)*1e3),o=So.lib.formatTime(s,"yyyy\u5e74MM\u6708dd\u65e5",0),u=i.TitleTerm.replace(/<b>/g,"<em>");u=u.replace(/<\/b>/g,"</em>"),n.push({uploadTime:o,title:u,href:i.WkUrl+"?src=www_rec"});if(n.length==6)break}if(n.length==0)return;var a=$(".res-rich.so-rich-doc"),f=[],l=So.web.srplog.params.sms.split(",");for(var r=0;r<l.length;r++){var c=l[r].split(":");(c[1]=="doc"||c[1]=="doc_green")&&f.push(c);if(f.length==3)break}for(var r=0,h=0;r<a.length;r++){var p=a.eq(r);if(p.find(".rich-doc-wenku").length)continue;var d=$('<ul class="mydoc-info"></ul>');if(n.length-r*2<1)break;n.length-r*2>=2?($('<li><div class="mydoc_title">\u70ed\u95e8\u63a8\u8350\uff1a</div></li>').appendTo(d),$('<li><div class="mydoc_title"><a data-type="rec" target="_blank" href="'+n[r*2].href+'">'+n[r*2].title+'</a></div><div style="float:right;color:#999">\u4e0a\u4f20\u65f6\u95f4\uff1a'+n[r*2].uploadTime+"</div></li>").appendTo(d),$('<li><div class="mydoc_title"><a data-type="rec" target="_blank" href="'+n[r*2+1].href+'">'+n[r*2+1].title+'</a></div><div style="float:right;color:#999">\u4e0a\u4f20\u65f6\u95f4\uff1a'+n[r*2+1].uploadTime+"</div></li>").appendTo(d)):n.length-r*2==1&&$('<li><div class="mydoc_title">\u70ed\u95e8\u63a8\u8350\uff1a<a data-type="rec" target="_blank" href="'+n[r*2].href+'">'+n[r*2].title+'</a></div><div style="float:right;color:#999">\u4e0a\u4f20\u65f6\u95f4\uff1a'+n[r*2].uploadTime+"</div></li>").appendTo(d),So.lib.log("doc-rec",{type:"show",datatype:f[r][0]}),p.append(d),p.closest(".res-list").find(".res-title a").attr("data-ver","rec"),h++;if(h==3)break}}},t=encodeURIComponent(So.comm.q+"&site:www.wenshuba.com"),n=encodeURIComponent(So.comm.q+"&site:http://ishare.iask.sina.com.cn");$.ajax({url:"https://wenku.so.com/api/search/intowk?q="+t,method:"get",dataType:"jsonp",crossDomain:!0,timeout:800,success:function(t){t["data"]==undefined||t["data"].length==0?$.ajax({url:"https://wenku.so.com/api/search/intowk?q="+n,method:"get",dataType:"jsonp",crossDomain:!0,success:function(t){e(t)}}):e(t)},error:function(t){$.ajax({url:"https://wenku.so.com/api/search/intowk?q="+n,method:"get",dataType:"jsonp",crossDomain:!0,success:function(t){e(t)}})}})}}function p(){if(So.comm.pn==1&&$("div[data-102news-style-type]").length){if($("#mohe-kzx_top").length)return;var e=function(e){if(e.length<2)return;var t=[];for(var n=0;n<e.length;n++)if(e[n].title&&e[n].url&&e[n].pdate){var r=e[n],i=new Date(parseInt(r.pdate)*1e3),o=So.lib.formatTime(i,"yyyy-MM-dd",0),u=r.title.replace(/<b>/g,"<em>");u=u.replace(/<\/b>/g,"</em>"),t.push({uploadTime:o,title:u,href:r.url});if(t.length==3)break}if(t.length<2)return;var a=s.attr("data-102news-style-type"),f=$('<ul class="kzx-news-rec-info"><li class="kzx-news-rec-title">\u70ed\u95e8\u63a8\u8350\uff1a</li></ul>');for(var n=0;n<t.length;n++){var l=$('<li><div class="kzx-info-title"><a data-kzx-rec-a-flag="1" data-type="news-rec" target="_blank" href="'+t[n].href+'">'+t[n].title+'</a></div><div style="float:right;color:#999">'+t[n].uploadTime+'</div><div class="clearfix"></div></li>');f.append(l)}var c=$("<div></div>");c.append(f),s.append(c);var h=$("<div class='clearfix'></div>");h.insertBefore(c),So.lib.log(a+"_rec",{type:"show",datatype:0}),s.closest(".res-list").find(".res-title a").attr("data-ver","rec")},t=$('div[data-102news-style-type^="kzx-news"]'),n=t.eq(0),r=$("div[data-102news-style-type]"),i=!1,s;$.each(r,function(){var e=$(this).data("kzx_is_show");e&&(i=e,s=$(this))});if(i){var o=t.length?n.parent(".res-list").find(".res-title a").data("replaceurl").split("?")[0]:"",u=t.length?n.parent(".res-list").find(".res-title a").html():"",a={n:10,rewrite:1,sort:"rank",c:"WeMedia",from:"kzx_box",hot_search:1,q:So.comm.q,_url:o,_title:u},f="https://api.ssl.so.com/Search";$.ajax({url:f,data:a,method:"get",dataType:"jsonp",crossDomain:!0,jsonpCallback:"callback",success:function(t){t.data&&t.data.result&&e(t.data.result)},error:function(e){}})}}}function d(){$(".inter_feedback_link").on("click",function(e){if(So.lib.browser.isIE()&&So.lib.browser.isIE()<=9){window.open("http://info.so.com/feedback.html");return}e.preventDefault(),e.stopPropagation();if($(this).hasClass("inter_feedback_cancel"))$(this).removeClass("inter_feedback_cancel"),$(".inter-item").removeClass("inter_feedback_edit"),$(this).find(".inter_feedback_txt").text("\u53cd\u9988");else{$(this).addClass("inter_feedback_cancel");var t=$(this).closest(".inter");t.length&&t.find(".inter-item").addClass("inter_feedback_edit"),$(this).find(".inter_feedback_txt").text("\u53d6\u6d88")}}),$(".inter .inter-close").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".inter").hide(),So.lib.log("official_recom",{type:"click",datatype:"close",from:$(this).closest(".video-game-rich-list").attr("data-from")})}),$("#container").on("mousedown",".inter_feedback_edit .inter-feedback",function(e){e.stopPropagation(),e.preventDefault();var t={words:$(this).data("title"),module_token:"richsum"};So.lib.observer.publish("so.feedback.edit",t,["\u7ed3\u679c\u4e0d\u76f8\u5173","\u5185\u5bb9\u6709\u9519\u8bef","\u7ed3\u679c\u91cd\u590d","\u4e3e\u62a5","\u56fe\u7247\u9519\u8bef"]),So.lib.log("official_recom",{type:"click",datatype:"feedback",from:$(this).closest(".video-game-rich-list").attr("data-from")})}),So.lib.observer.subscribe("so.feedback.edit.close",function(){$(".inter_feedback_link").removeClass("inter_feedback_cancel"),$(".inter-item").removeClass("inter_feedback_edit"),$(".inter_feedback_link").find(".inter_feedback_txt").text("\u53cd\u9988")})}$(".res-rich").on("mousedown","a",function(e){var t=$(this);if(t.attr("data-kzx-rec-a-flag")==1)return!0;var n=t.closest(".res-list").find(".res-title a[data-replaceurl]");if(n.length){var r=n.attr("data-replaceurl");r&&/^((ht|f)tps?):\/\/(www.360kuai.com)/.test(r)&&(t.attr("href",n.attr("href")),t.attr("data-mdurl",n.attr("data-initurl")))}}),$(".res-rich").on("click",".res-comm-more",function(e){var t=$(this),n=t.parent(),r="\u5c55\u5f00\u5168\u90e8",i="\u6536\u8d77",s=$(e.delegateTarget),o="li:gt(0)";s.hasClass("so-rich-urllink")?(r="\u67e5\u770b\u66f4\u591a",o=".topmore"):s.hasClass("so-rich-multilink")?o="li:gt(1)":s.hasClass("so-rich-labour-teletext")?(r="\u67e5\u770b\u66f4\u591a",o="li:gt(3)"):s.hasClass("rich-lbs-findplace")?(r="\u5c55\u5f00",i="\u6536\u8d77",o="div a:gt(1)"):s.hasClass("res-autocar")&&(r="\u540c\u7c7b\u8f66\u63a8\u8350",i="\u540c\u7c7b\u8f66\u63a8\u8350",o=".cars"),n.hasClass("res-comm-open")?(t.removeClass("res-comm-arrow").html(r).attr("data-type","open"),n.removeClass("res-comm-open").find(o).hide()):(t.addClass("res-comm-arrow").html(i).attr("data-type","close"),n.addClass("res-comm-open").find(o).show())}),$(".so-rich-site-image, .so-rich-site-life, .so-rich-site-life .cate-nav").each(function(e){var t,n=$(this),r=n.find(".block"),i=".nav a",s=function(e){e.addClass("hover").siblings().removeClass("hover"),r.hide().eq(e.index()).show()};n.hasClass("so-rich-site-image")?(i=".comm-other a",s=function(e){e.hasClass("all")||(r.hide().eq(parseInt(e.index())-1).show(),e.closest(".comm-other").find("a").removeClass("hover"),e.addClass("hover"))},n.find(".block li").each(function(e,t){$(t).mouseenter(function(){$(this).find(".footnote p").removeClass("ol")}).mouseleave(function(){$(this).find(".footnote p").addClass("ol")})})):n.hasClass("cate-nav")&&(i="a",s=function(e){e.addClass("hover").siblings().removeClass("hover"),e.parent().siblings(".cate-block").hide().eq(e.index()).show()}),n.find(i).mouseenter(function(){var e=$(this);t=setTimeout(function(){s(e)},200)}).mouseleave(function(){clearTimeout(t)})}),$(".res-rich .g-card-foot").length>0&&(_loader.add("haosouPager","https://s.ssl.qhimg.com/static/829be658513aea47/haosouPager.js"),_loader.use("jquery,haosouPager",function(){$(".so-rich-slider").each(function(){var e=$(this),t=$(".list-wrap .block",e),n=$(".g-card-foot",e).attr("data-page");n&&$(".g-card-foot",e).haosouPager({totalPage:n,currPage:1,callback:function(n){var r=$(".list-wrap",e).first().width(),i=$(".list-wrap .list",e).first(),s=t.eq(n-1);So.lib.lazyImg(s),i.stop().animate({left:-(n-1)*r})}})})}));if($(".so-rich-datalist").length>0)for(var e=1;e<4;e++){var t=".datalistPager"+e,n=" .datalist-outer-wrap";if($(t+n).length>0){var r=$(t),i=r.data("type"),s={small:6,big:5,"long":4};r.slider({blockWrap:"ul.datalist-wrap",block:"li",left:".pager-wrap.prev",right:".pager-wrap.next",autoSpeed:0,speed:400,isLoop:!1,eachGroupCount:s[i],arrowDisableClass:"disabled",pagesTurningFun:function(e){So.lib.lazyImg(e)}})}}if(So.web.cmsbaike&&So.web.cmsbaike.url){var o=!1;$.each($('#main h3.res-title a[data-mdurl*="baike.so.com"]'),function(e,t){!u&&$(t).width()<=440&&($(t).after('<a href="'+So.web.cmsbaike.url+'" target="_blank" class="baike-edit">'+So.web.cmsbaike.txt+"</a>"),u=!0,So.lib.log("yjbk",{type:"show"}),$(".baike-edit").on("mousedown",function(){So.lib.log("yjbk",{type:"click"})}))})}if(So.web.cmswenda&&So.web.cmswenda.url){var u=!1;$.each($('#main h3.res-title a[data-mdurl*="wenda.so.com"]'),function(e,t){!u&&$(t).width()<=440&&($(t).after('<a href="'+So.web.cmswenda.url+'" target="_blank" class="wenda-edit">'+So.web.cmswenda.txt+"</a>"),u=!0,So.lib.log("yjdt",{type:"show"}),$(".wenda-edit").on("mousedown",function(){So.lib.log("yjdt",{type:"click"})}))})}var a=$(".so-rich-menu");if(a.length>0){var f,l,c;$.each(a,function(e,t){l=$(t),f=l.closest(".res-list").find(".res-title a[data-mdurl]"),f.length&&(c=f.data("mdurl"),$.each(l.find("a"),function(e,t){$(t).data("mdurl",c)}))})}h(),p(),d()}}(),So.web._richsum(),So.page.reload.push(So.web._richsum),So.web.login=function(){function t(t){e?t():$.ajax({url:"//jspassport.ssl.qhimg.com/quc6.js",dataType:"script",cache:!0,success:function(){e=!0,QHPass.init({src:"pcw_so",signIn:{types:["normal","mobile","qrcode"],hideKeepAlive:!1},signUp:{types:["mobile","email"],protocolText:"360\u641c\u7d22\u7528\u6237\u534f\u8bae",protocolUrl:"http://www.so.com/help/help_uagreement.html",privacyText:"360\u641c\u7d22\u9690\u79c1\u534f\u8bae",privacyUrl:"http://www.so.com/help/help_privacy.html",hidePasswordAgain:!1}}),t()}})}function n(e){QHPass.signIn(function(){e&&e(),location.reload(!0)})}function r(){QHPass.signUp(function(){location.reload(!0)})}function i(){QHPass.signOut(["so.com"],function(){location.reload(!0)})}function s(e){t(function(){n(e)},!0)}function o(){t(i,!1)}function u(){$("#user-login").bind("click",function(){return t(n),!1}),$("#user-reg").bind("click",function(){return t(r),!1}),So.comm.pid!="home"&&$("#user-logout").bind("click",function(){return t(i),!1})}var e=!1,a={load:function(){$.ajax({url:"https://s.ssl.qhimg.com/pkg/quc/qhuc1.1.js?_=v1.1",dataType:"script",cache:!0,success:function(){window.QHUC.on("ready",function(e){QHUC.getMid()&&window.HUID&&HUID.setMid(QHUC.getMid()),e&&e.qid&&!So.comm.user.qid&&(a.createBtn(),a.bindEvent())}),window.QHUC.init({src:"pcw_so",needFastSignIn:!0})}})},controlPop:function(){if($("._uc_").length&&So.lib.isVisible1($("._uc_")[0]))a.hidePop();else{QHUC.showPopup($("#header")[0]);var e=$("._uc_"),t=$("#user_onekey_login"),n=0,r=20;So.comm.pid!="home"&&(t=$("#hd-rtools .user-group"),n=20,r=25),e.hide().slideDown(150).css({left:t.offset().left+t.width()-e.width()+n,top:t.position().top+t.height()+r,position:"absolute",zIndex:3001})}return So.lib.log("login-onekey",{value:"click"}),!1},hidePop:function(){$("._uc_").slideUp(150,function(){QHUC.hidePopup()})},createBtn:function(){var e=$("#user-login");e.hide(),$('<a href="http://i.360.cn/login?src=pcw_so&destUrl='+encodeURIComponent(location.href)+'" id="user_onekey_login">\u4e00\u952e\u767b\u5f55</a>').insertAfter(e).on("click",a.controlPop),So.lib.log("login-onekey",{value:"show"})},bindEvent:function(){$(window).on("resize scroll",function(){a.hidePop()}),$("body").on("click",function(e){$(e.target).closest("._uc_").length==0&&a.hidePop()}),QHUC.on("fastSignIn",function(){So.lib.log("login-onekey",{value:"in"}),location.reload()}),QHUC.on("other",s)}};return a.load(),u(),{signIn:s,logout:o}}();var HUID=function(){function c(){var e=h();p(e)}function h(){var e;try{e=external.GetMID(external.GetSID(window))}catch(t){}if(!e)try{e=window.wdextcmd.GetMid()}catch(t){}return e||""}function p(n){if(n){var r=new Date;r.setFullYear(r.getFullYear()+2),n=v(n),f(t,n,{expires:r,path:"/",domain:o}),f(e,n,{expires:r,path:"/",domain:o,SameSite:"None"})}}function d(){var e=l(t),n=e.split(".");if(n[0]!==""&&n[1]!==""){var r=parseInt(n[1]);return n[0].substr(2,r)+n[0].substr(15+r)}return""}function v(e){var t=0,n="",r=+(new Date),i=Math.floor(Math.random()*15),s="qihoo360socom";while(t<2)n+=s.charAt(Math.floor(Math.random()*8)),t++;return n+e.substring(0,i)+r+e.substring(i)+"."+i}function m(){clearInterval(u),u=setInterval(function(){g()},s*60*1e3,!0);var e=l(r),t=l(n);l(i)&&(t||e)?a(t||e):g()}function g(){var e=document.createElement("script");e.id="_socomhuid_",e.src="//socm.dmp.360.cn/HUID.set?_="+ +(new Date),document.body.appendChild(e)}function y(e){var t=document.getElementById("_socomhuid_");t&&document.body.removeChild(t);if(e["errno"]==0&&e.huid){var u=new Date;u.setFullYear(u.getFullYear()+2),f(n,e.huid,{expires:u,path:"/",domain:o,SameSite:"None"}),f(r,e.huid,{expires:u,path:"/",domain:o});var l=new Date;l.setMinutes(l.getMinutes()+s),f(i,"1",{expires:l}),a(e.huid)}}function b(){return l(n)||l(r)}function w(e){a=e||function(){},c(),m()}var e="so_md",t="__md",n="so_huid",r="__huid",i="gtHuid",s=10,o="so.com",u=null,a,f=function(e,t,n){n=n||{};var r=n.expires,i=n.domain,s=n.path,o=n.SameSite,u=location.protocol=="https:"?!0:!1;if(!u&&o)return;document.cookie=e+"="+encodeURIComponent(t)+(r?"; expires="+r.toUTCString():"")+(i?"; domain="+i:"")+(s?"; path="+s:"")+(u&&o?"; SameSite="+o+"; Secure":"")},l=function(e){var t=document.cookie.split(/\s*;\s*/),n=t.length-1,r,i,s;while(n>=0){r=t[n].split("="),i=r[0],s=r[1];if(i===encodeURIComponent(e))return decodeURIComponent(s);n--}return""};return{init:w,set:y,getMid:h,getHuid:b,setMid:p}}();HUID.init(function(e){if(!window.ActiveXObject&&!("ActiveXObject"in window))return;var t=So.lib.cookie.get("__md"),n;t?n="O"+t:e&&(n="H"+e),n&&$.getScript("//smart.sug.so.com/setid?_="+So.comm.t+"&id="+n)}),function(){$("body").on("mousedown","a[href]",function(){var e=$(this).attr("href"),t=So.comm.sid||"",n=So.comm.fr||"",r=So.comm.monitor&&So.comm.monitor.lm_extend||"",i=So.comm.monitor&&So.comm.monitor.ls||"",s=So.comm.lmsid&&So.comm.lmsid||"",o="",u="",a={},f={},l=e.indexOf("#");(t!=""||n!=""||i!=""||s!=""||r!="")&&/^(https?\:\/\/www\.(so|haosou)\.com)?\/s\?/i.test(e)&&(f=So.lib.parseQuery(e),So.newsFlow&&So.newsFlow.type=="news"&&$(this).closest("#mohe-know_side_nlp")&&f.src=="know_side_nlp"&&(e=e.replace("src=know_side_nlp","src=know_side_nlp_new")),t!=""&&!f.psid&&(a.psid=t),n!=""&&!f.fr&&(a.fr=n),i!=""&&!f.ls&&(a.ls=i),s!=""&&!f.lmsid&&(a.lmsid=s),r!=""&&!f.lm_extend&&(a.lm_extend=r),$.isEmptyObject(a)||(u="&"+$.param(a),l>-1?o=e.substring(0,l)+u+e.substr(l):o=e+u,$(this).attr("href",o)))})}(),function(){function r(e,t){if(t&&t.toString().length==32&&!So.lib.cookie.get("isafe")){var n=new Date;n.setFullYear(n.getFullYear()+10),So.lib.cookie.set("isafe",1,{expires:n})}else t===""&&So.lib.cookie.get("isafe")&&So.lib.cookie.remove("isafe")}PageLine.release("release");var e=$("#weixinlk"),t=$("#weixinlk span");e.on("click",function(e){return t.css("display")=="none"?t.fadeIn():t.fadeOut(),e.stopPropagation(),!1}),$(document).on("click",function(){t.css("display")!="none"&&t.fadeOut()}),$("#mobile").on("click",function(){So.lib.cookie.remove("force_www_so")});if(typeof So.lib.cookie.get("dpr")=="undefined"){var n=new Date;n.setFullYear(n.getFullYear()+1),So.lib.cookie.set("dpr",window.devicePixelRatio||"",{expires:n})}So.lib.isSupportWebp(),So.comm.enajax&&(_loader.add("res-ajax","https://s.ssl.qhimg.com/static/99054d368c517a9f/result/res-ajax.js"),_loader.use("res-ajax",function(){})),setTimeout(function(){location.reload()},72e6),So.web.typing&&(_loader.add("typing","https://s.ssl.qhimg.com/static/a022d4470f689a4e/result/typing.js"),_loader.use("typing",function(){})),$("a[data-linkid]").bind("mousedown",function(){So.lib.log("footLink",{type:"click",datatype:$(this).attr("data-linkid")})}),function(){var e=So.lib.cookie.get("__huid");if(e){var t=new Image;t.onload=t.onerror=function(){t=null},t.src="//cm.mediav.com/lianmeng?maxhuid="+encodeURIComponent(e)}}();try{external.AppCmd(external.GetSID(window),"sesafe","GetMid","","",r)}catch(i){}try{r("",window.wdextcmd.GetMid())}catch(i){}(function(){if($.inArray("se7_errors_new",[So.comm.fr,So.comm.src])!==-1){var e;function t(){e=$(document.body).height(),window.postMessage&&window.parent.postMessage({height:e},"*")}t(),setInterval(function(){e!=$(document.body).height()&&t()},200),$(".g-hd-logo a").attr("href","javascript:;"),$("form.form").on("submit",function(){if($.trim($("#keyword").val())=="")return!1})}})();if(So.comm.scrollToBox.length){if(So.lib.parseQuery(Location.href).noScroll||!window.history.pushState)return;for(var s=0,o=So.comm.scrollToBox.length;s<o;s++){var u=$(".res-list [data-mohe-type="+So.comm.scrollToBox[s]+"]");if(!u.length)continue;window.history.pushState({},0,location.href+"&noScroll=1"),window.onunload=function(){window.scrollTo(0,0)},setTimeout(function(){$(window).scrollTop(u.offset().top-$("#header").height()-10)},200);break}}}(),$(function(){var e={init:function(){e.bindEvent(),e.hideTip()},bindEvent:function(){var t=["input","textarea","button","img","html","body"];$("#warper").on("mouseup",".res-list",function(n){var r=e.getSelectionText(),i=e.getTipPosition().top,s=e.getTipPosition().left,o=i+10,u=s-18;if(n.target&&n.target.nodeName&&$.inArray(n.target.nodeName.toLowerCase(),t)>=0)return;if(i<=0&&s<=0)return;if(r!=""&&r.length>0&&e.regExp(r)){var a="//fanyi.so.com/index/search";e.ajaxFn(a,r,f);function f(t){var n=e.getTranslationText(t);n.length>0&&e.showTip(n,u,o,r,t)}}}),$("#warper").on("mouseup","res-list",function(e){$("#translationTip").remove()})},getSelectionText:function(){var e="";return document.selection?e=document.selection.createRange().text:window.getSelection&&(e=window.getSelection().toString()),e},getSelectionTextPosition:function(){var t=e.getSelectionText(),n=null,r={width:0,height:0,top:0,left:0,right:0};return document.selection&&t.length>0?(n=document.selection.createRange().getBoundingClientRect(),r.top=n.top,r.bottom=n.bottom,r.left=n.left,r.right=n.right,r.width=r.right-r.left,r.height=r.bottom-r.top):window.getSelection&&t.length>0&&(n=window.getSelection().getRangeAt(0).getBoundingClientRect(),r.top=n.top,r.left=n.left,r.width=n.width,r.height=n.height),r},getTranslationText:function(t){var n="",r="",i=0,s=e.isWord(t);if(s){!$.isEmptyObject(t)&&!$.isEmptyObject(t.data)&&!$.isEmptyObject(t.data.explain)&&!$.isEmptyObject(t.data.explain.translation)&&(n=t.data.explain.translation),n.length>=3?i=3:i=n.length;for(var o=0;o<i;o++)r+=n[o]+"<br>"}else!$.isEmptyObject(t)&&!$.isEmptyObject(t.data)&&!$.isEmptyObject(t.data.fanyi)&&(r='<span class="txt">\u8bd1\uff1a</span>'+t.data.fanyi);return r},isWord:function(e){var t;return!$.isEmptyObject(e.data)&&!$.isEmptyObject(e.data.explain)&&($.isEmptyObject(e.data.explain.translation)?$.isEmptyObject(e.data.fanyi)||(t=!1):t=!0),t},getScroll:function(){var e={top:$(document).scrollTop(),left:$(document).scrollLeft()};return e},showTip:function(t,n,r,i,s){var o="<div id='translationTip' class='translationTip'><div class='triangle'><span class='out'></span><i class='inner'></i></div>"+t+"</div>",u=e.isWord(s);$("body").append(o),$("#translationTip").css({top:r+"px",left:n+"px"}).show("fast"),u?So.lib.log("fanyiTip",{q:i,type:"show",datatype:"word"}):So.lib.log("fanyiTip",{q:i,type:"show",datatype:"sentence"})},hideTip:function(){$(document).on("mouseup",function(e){e.target.id!="translationTip"&&$("#translationTip").remove()})},getTipPosition:function(){var t={left:0,top:0},n=e.getSelectionTextPosition().top,r=e.getSelectionTextPosition().left,i=e.getSelectionTextPosition().width,s=e.getSelectionTextPosition().height,o=e.getScroll().top,u=e.getScroll().left;return t.top=n+o+s,t.left=r+u+i/2,t},regExp:function(e){var t=/[\u4e00-\u9fa5]/,n=/\r|\n|\\s/,r=/[a-z]/i;return e.length>0&&t.test(e)==0&&n.test(e)==0&&r.test(e)?!0:!1},ajaxFn:function(e,t,n){$.ajax({method:"POST",dataType:"jsonp",data:{eng:1,query:t,src:"so-pc"},url:e}).done(function(e){n&&n(e)})}};e.init()}),function(){if(So.comm.actags.mod_click_rcmd&&So.comm.actags.mod_click_rcmd=="off"||So.comm.fr==="shaonian")return;var e={$inlineRecommend:null,logMod:null,logParas:{},srpLogParas:null,linkurl:"",resultType:"",pssid:"",version:"",resultTypeSubEventsMaps:{"so.recommend.click":"inline-recommend","dianjing.eideapp.click":"inline-recommend_ad"},init:function(){var e=this,t=".recommend";$(window).off(t),$(document).off(t);for(var n in e.resultTypeSubEventsMaps)e.subRecomData(n);So.lib.observer.subscribe("so.recommend.tpl",function(t,n){e.logParas={q:So.comm.q,url:e.linkurl,p1:t.machine,p2:e.resultType,p3:t.algorithm},$.isEmptyObject(n)||(e.$inlineRecommend=n.find(".inline-recommend"),e.$inlineRecommend.length&&e.$inlineRecommend.remove(),n.append($(t.tpl)),e.$inlineRecommend=n.find(".inline-recommend")),e.logMod="inlineRecommend_"+(t.version||t.type),e.srpLogParas=$.extend(e.logParas,{type:"show",value:n&&n.find(".inline-recommend a").length})}),e.bindEvents()},subRecomData:function(e){var t=this;So.lib.observer.subscribe(e,function(n,r){if($.isEmptyObject(n)||$.isEmptyObject(r)||$.inArray("clickRecom",So.comm.riskManageList)!=-1||r.attr("data-rec"))return;r.attr("data-rec",1);var i=t.resultTypeSubEventsMaps[e];i=="inline-recommend_ad"&&(t.resultType="ad"),So.comm.is_middle_page==1&&(i=="inline-recommend_ad"?i+=So.comm.pid.substr(3,So.comm.pid.length):i="inline-recommend"+So.comm.pid.substr(3,So.comm.pid.length)),t.getRecommendTpl(n,r,i)})},getRecommendTpl:function(e,t,n){var r=this;(function(n,i){$.ajax({url:"//api.ssl.so.com/recommand/list?query="+encodeURIComponent(So.comm.q),type:"get",dataType:"jsonp",data:$.extend(e,{ads:i,sid:So.comm.sid,mid:So.lib.getMid(),guid:So.lib.cookie.get("QiHooGUID")||"",huid:So.lib.cookie.get("__huid")||"",abv:So.comm.oabv,llbq:So.comm.llbq,src:So.comm.src}),success:function(i){if(i&&i.no===0&&i.data&&i.data.queries&&i.data.queries.length>=2){var s=i.data.version||"";version=s;var o=i.data.queries;r.pssid=i.data.ssid||"",So.comm.src=="SoftMgr_search"?s="soft":So.newsFlow&&So.newsFlow.type=="middle_page"&&(s="softbox"),o.length>9&&(o.length=9);var u=['<div class="inline-recommend" data-url="'+e.url+'"><div class="inline-recommend-inner"><div class="inline-recommend-title"><span class="recommend-icon"></span>\u4e3a\u60a8\u63a8\u8350<span class="so_feedback"><span class="line"></span><a href="javascript:;" target="_blank" class="so_feedback_link" data-class="inline-recommend-item"><span class="so_feedback_icon"></span><span class="so_feedback_txt">\u53cd\u9988</span></a>\uff1a</span></div> <div class="inline-recommend-item">'];function a(e){var t=[],n=f(e),r=n.col;for(var i=0;i<r;i++){var s=[];for(var o=0;o<n.row;o++){var u=e[o*r+i];u&&s.push(u)}t.push(s);if(i>=n.count-1)break}return t}function f(e){var t=e.length,n=3,r=Math.ceil(t/n);return{count:t,col:n,row:r}}var l=f(e),c=a(o),h=So.comm.fr=="360weishi"?"_self":"_target";So.lib.checkAbv(1112,"UI_3")&&u.push('<div class="item">');for(var p=0;p<c.length;p++){!So.lib.checkAbv(1112,"UI_3")&&u.push('<div class="item">');for(var d=0;d<c[p].length;d++){var v=d*l.col+p;u.push('<span><a href="/s?ie=utf-8&q='+encodeURIComponent(c[p][d])+"&src="+n+"&psid="+So.comm.sid+"&pssid="+r.pssid+"&nlpv="+s),So.comm.monitor.ls&&u.push("&ls="+encodeURIComponent(So.comm.monitor.ls)),So.comm.lmsid&&u.push("&lmsid="+encodeURIComponent(So.comm.lmsid)),So.comm.monitor.lm_extend&&u.push("&lm_extend="+encodeURIComponent(So.comm.monitor.lm_extend)),u.push('" target="'+h+'" data-pos="'+(v+1)+'">'+So.lib.escapeHTML(c[p][d])+"</a></span>")}!So.lib.checkAbv(1112,"UI_3")&&u.push("</div>")}So.lib.checkAbv(1112,"UI_3")&&u.push("</div>"),u.push("</div></div></div>"),u=u.join(""),So.lib.observer.publish("so.recommend.tpl",{tpl:u,version:s,machine:i.data.machine,algorithm:i.data.algorithm},t)}else So.lib.observer.publish("so.recommend.tpl",{type:"nodata"})},error:function(){So.lib.observer.publish("so.recommend.tpl",{type:"error"})},complete:function(){t.attr("data-rec")&&t.removeAttr("data-rec")}})})(n,this.resultType)},sendLog:function(e,t){So.lib.log(e,$.extend({psid:So.comm.sid,pssid:this.pssid},t))},bindEvents:function(){var e=["obo_dai361gsjsq","relation_video_rank","relation_game","relation_tv_rank","relation_cartoon_rank","relation_variety_rank","famous_pic","360pic","short_video_middle"],t=this;$("#warper").on("click",".res-list a",function(){var n=$(this);$container=n.closest("[data-mohe-type]");if($container.length){t.resultType="ob";if($.inArray($container.attr("data-mohe-type"),e)>-1)return}else t.resultType="og",$container=n.closest(".res-list");if(n.closest(".res-list").find(".res-recommend").text()||n.closest(".res-linkinfo").length||n.closest(".g-linkinfo").length||!/^http|^https/.test(n.attr("href"))||n.is(".mini-app a"))return;var r,i=[],s=$($container.find("a[data-res], .mh-title, .title a")[0]);$.each(s.find("em"),function(e,t){i.push($(t).text())}),t.linkurl=n.data("mdurl")||So.lib.getLinkUrl(n.attr("href")),r=n.attr("title")||n.text()||s.text();if(!t.linkurl)return;So.lib.observer.publish("so.recommend.click",{url:t.linkurl,title:r,count:10,title_red:i.join("|")},$container)}),$("#warper").on("click",".inline-recommend .item a",function(){if($(this).closest(".so_feedback_edit").length)return;t.sendLog(t.logMod,$.extend(t.logParas,{type:"click",value:$(this).text(),datatype:$(this).attr("data-pos"),nlpv:version}))}),$(document).on("visibilitychange.recommend",function(){!document.hidden&&t.srpLogParas&&t.$inlineRecommend&&So.lib.isVisible1(t.$inlineRecommend[0])&&!t.$inlineRecommend.closest(".res-list").find("[data-appid]").length&&(t.sendLog(t.logMod,$.extend(t.srpLogParas,{nlpv:version})),t.srpLogParas=null)});var n=So.lib.browser.isIE()&&So.lib.browser.isIE()<=9;$(window).on("focus.recommend",function(){!document.hidden&&t.srpLogParas&&t.$inlineRecommend&&So.lib.isVisible1(t.$inlineRecommend[0])&&(n||t.$inlineRecommend.closest(".res-list").find("[data-appid]").length)&&(t.sendLog(t.logMod,$.extend(t.srpLogParas,{nlpv:version})),t.srpLogParas=null)}),$(window).on("scroll.recommend",function(){t.srpLogParas&&t.$inlineRecommend&&So.lib.isVisible1(t.$inlineRecommend[0])&&(t.sendLog(t.logMod,$.extend(t.srpLogParas,{nlpv:version})),t.srpLogParas=null)})}};e.init()}(),function(){function t(e){if(So.lib.browser.isIE()&&So.lib.browser.isIE()<=9){window.open("http://info.so.com/feedback.html");return}var t=this;e.preventDefault(),e.stopPropagation(),$.each($(".so_feedback_link"),function(e,r){t!=r&&$(r).hasClass("so_feedback_cancel")&&n($(r))}),n($(t))}function n(t){var n=t.data("class");if(t.hasClass("so_feedback_cancel"))n==="ac_menu"&&($(".ac_menu_ctn .so_feedback_edit li span").off("click.so_feedback_edit"),$(".ac_menu_ctn .so_feedback_edit li").not(".local").off("click.so_feedback_edit")),t.removeClass("so_feedback_cancel"),$("."+n).removeClass("so_feedback_edit"),t.find(".so_feedback_txt").text("\u53cd\u9988");else{t.addClass("so_feedback_cancel");var i=t.closest(".inline-recommend-inner");i.length?i.find(".inline-recommend-item").addClass("so_feedback_edit"):n==="so-pdr-bd"?t.closest(".so-pdr").find(".so-pdr-bd").addClass("so_feedback_edit"):$("."+n).addClass("so_feedback_edit"),t.find(".so_feedback_txt").text("\u53d6\u6d88"),n&&(e.module_token=n),n==="ac_menu"&&($(".ac_menu_ctn .so_feedback_edit li span").on("click.so_feedback_edit",function(t){e.$keyword.blur(),r.call(this,t)}),$(".ac_menu_ctn .so_feedback_edit li").not(".local").on("click.so_feedback_edit",function(e){e.stopPropagation(),e.preventDefault()}))}}function r(t){t.stopPropagation(),t.preventDefault();var n={words:$(this).text()},r=$(this).closest(".ac_menu");r.length&&$.extend(n,{sug_ssid:r.attr("ssid"),sug_prefix:e.$keyword.val()});var i=$(this).closest(".inline-recommend");i.length&&$.extend(n,{url:encodeURIComponent(i.data("url"))}),So.lib.observer.publish(e.EVENTNAME,n,e.feedbackItems)}function i(n){var r=$(".ac_wrap .so_feedback_link");e.$keyword.val()&&$(".ac_menu li").not(".local").length?r.show():r.hide(),r.hasClass("so_feedback_cancel")&&t.call(this,n)}var e={EVENTNAME:"so.feedback.edit",CLOSEEVENTNAME:"so.feedback.edit.close",MOREEVENTNAME:"so.feedback.edit.more",$feedbackDialog:['<div class="so-feedback-mask">','<div class="so-feedback-dialog">','<a href="javascript:;" class="so-feedback-close"></a>',"<h3>\u53cd\u9988\u7406\u7531</h3>",'<p class="so-feedback-query">\u53cd\u9988:<em><%=query%></em></p>','<div class="so-feedback-list">',"<% for(var i = 0; i < items.length; i++) { %>",'<div class="so-feedback-item"><input type="radio" value="<%=items[i]%>" id="item<%=i%>" name="so-feedback-reason"><label for="item<%=i%>"><span class="so-feedback-radio"></span><%=items[i]%></label></div>',"<% } %>",'<div class="so-feedback-item"><input type="radio" value="\u5176\u4ed6\u7406\u7531" id="item" name="so-feedback-reason"><label for="item"><span class="so-feedback-radio"></span><input type="text" class="so-feedback-txt" placeholder="\u8f93\u5165\u5176\u4ed6\u7406\u7531" /></label></div>',"</div>",'<a href="javascript:;" class="so-feedback-btn so-feedback-cancel">\u53d6\u6d88</a><a href="javascript:;" class="so-feedback-btn so-feedback-btn-confirm so-feedback-confirm">\u63d0\u4ea4</a>',"</div>","</div>"].join(""),$feedbackConfirmDialog:$(['<div class="so-feedback-mask">','<div class="so-feedback-dialog">','<a href="javascript:;" class="so-feedback-close"></a>'
,'<div class="so-feedback-list so-feedback-tips">','<div class="so-feedback-item">\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01</div>','<div class="so-feedback-item">\u60a8\u7684\u56de\u590d\u5c06\u5e2e\u52a9\u6211\u4eec\u6539\u5584\u641c\u7d22\u4f7f\u7528\u4f53\u9a8c\u3002</div>',"</div>",'<a href="javascript:;" class="so-feedback-btn so-feedback-more">\u7ee7\u7eed\u53cd\u9988</a><a href="javascript:;" class="so-feedback-btn so-feedback-btn-confirm so-feedback-cancel">\u5b8c\u6210</a>',"</div>","</div>"].join("")),submitData:{},module_token:"",feedbackItems:["\u7ed3\u679c\u4e0d\u76f8\u5173","\u5185\u5bb9\u6709\u9519\u8bef","\u7ed3\u679c\u91cd\u590d","\u4e3e\u62a5"],$keyword:$("#keyword"),$sofeedbackMask:null,ajaxLoading:!1};So.lib.observer.subscribe(e.EVENTNAME,function(t,n){e.submitData={},e.submitData.module_token=e.module_token,t&&$.extend(e.submitData,t),e.$sofeedbackMask&&e.$sofeedbackMask.remove(),$(document.body).append(So.lib.template(e.$feedbackDialog,{items:n,query:So.lib.escapeHTML(e.submitData.words)})),e.$sofeedbackMask=$(".so-feedback-mask")}),$(document.body).on("click",".so_feedback_link",function(n){e.$sofeedbackMask&&e.$sofeedbackMask.remove(),t.call(this,n)}),$(document.body).on("mousedown",".so_feedback_edit a",function(e){r.call(this,e)}),$(document.body).on("click",".so_feedback_edit a, .ac_menu_ctn .so_feedback_edit li",function(e){e.stopPropagation(),e.preventDefault()}),$(document.body).on("click",".so-feedback-confirm",function(){e.submitData.feedback_reason=$("input[name=so-feedback-reason]:checked").val(),e.submitData.feedback_reason==="\u5176\u4ed6\u7406\u7531"&&(e.submitData.feedback_reason+=":"+$(".so-feedback-txt").val());if(!e.submitData.feedback_reason)return;$.extend(e.submitData,{query:So.comm.q,user_id:So.comm.guid,timeStamp:+(new Date),sid:So.comm.sid,huid:So.lib.cookie.get("__huid")||"",mid:So.lib.getUnMid(So.comm.md)});if(e.ajaxLoading)return;e.ajaxLoading=!0;var t=So.comm.ssurl?"https://p.ssl.so.com/waiter/api/feedbackWords":"http://waiter.www.so.com/api/feedbackWords";$.ajax({url:t,type:"post",dataType:"json",timeout:3e3,data:e.submitData}),e.$sofeedbackMask.remove(),$(document.body).append(e.$feedbackConfirmDialog),e.$sofeedbackMask=$(".so-feedback-mask"),e.ajaxLoading=!1}),$(document.body).on("click",".so-feedback-more, .so-feedback-cancel, .so-feedback-close",function(){e.$sofeedbackMask.remove()}),$(document.body).on("click",".so-feedback-more",function(){So.lib.observer.publish(e.MOREEVENTNAME)}),$(document.body).on("click",".so-feedback-cancel, .so-feedback-close",function(){$.each($(".so_feedback_link"),function(e,t){$(t).hasClass("so_feedback_cancel")&&n($(t))}),So.lib.observer.publish(e.CLOSEEVENTNAME)}),$(document.body).on("focus",".so-feedback-txt",function(){$("#item").click()}),e.$keyword.on("blur focus input",function(e){var t=this;setTimeout(function(){i.call(t,e)},500)})}(),function(){var e=/msie (\d+)/i.test(navigator.userAgent)&&!window.opera?parseInt(RegExp.$1):0;if(e>0&&e<9||$("#header .s_site").length>0)return;So.page.reload.push(function(){$("#head_pdr_guide").remove(),$("#head_rs_top").remove()});var t=$("#header"),n=t.find(".inner"),r=n.height(),i=0,s=0,o,u,a,f,l,c,h,p,d;$(window).on("scroll",function(){i=$(window).scrollTop(),i<=$("#tabs-wrap").height()?t.removeClass("shadow"):t.addClass("shadow"),$box=$("#mohe-banner_hotnew, #mohe-wanhui2022"),$box.length&&(i>$box.offset().top+$box.height()?$("body").removeClass("box-header"):$("body").addClass("box-header")),u=$("#so-pdr-guide"),a=$("#rs-top");if(u.length==0&&a.length==0)return;d=$("#footer").length>0?$("#footer").offset().top-90:0,f=$("#main").offset().top-r;if(d<$(window).height())return;$(".ac_wrap").hide(),h=i+$(window).height()>d,s>i&&i>f||h?(u.length>0&&$("#head_pdr_guide").length==0&&(u.clone().attr("id","head_pdr_guide").css("height",0).appendTo($("#head")),o=$("#head_pdr_guide"),$soTop=$("#so_top"),o.find(".so-pdr-bd").css("top",0),$.each(o.find(".so-pdr-bd a"),function(e,t){$(this).attr("href",$(this).attr("href").replace("pdr_guide","pdr_guide_head"))}),o.animate({height:30}),u.find(".so-pdr-bd").addClass("become-two-line")),a.length>0&&$("#head_rs_top").length==0&&(a.clone().attr("id","head_rs_top").css("height",0).appendTo($("#head")),l=$("#head_rs_top"),l.find("dd").css("top",0),l.animate({height:30})),p!=So.comm.q&&u.length>0&&(p=So.comm.q,So.lib.log("pdr",{type:"show",datatype:"head",q:So.comm.q,value:So.web.pdrLog()}))):i<=f||i==0?($("#head_pdr_guide").remove(),$("#head_rs_top").remove()):s<=i&&!h&&i>f&&(u.length>0&&$("#head_pdr_guide").length>0&&($("#head_pdr_guide").animate({height:0}),$("#head_pdr_guide").remove()),a.length>0&&$("#head_rs_top").length>0&&($("#head_rs_top").animate({height:0}),$("#head_rs_top").remove())),clearTimeout(c),c=setTimeout(function(){s=i},10)})}();